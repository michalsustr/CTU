Model {
  Name			  "nxtway_gs_controller"
  Version		  7.5
  MdlSubVersion		  0
  GraphicalInterface {
    NumRootInports	    6
    Inport {
      Name		      "battery"
    }
    Inport {
      Name		      "bluetooth_rx"
    }
    Inport {
      Name		      "theta_m_l"
    }
    Inport {
      Name		      "theta_m_r"
    }
    Inport {
      Name		      "gyro"
    }
    Inport {
      Name		      "sonar"
    }
    NumRootOutports	    2
    Outport {
      BusObject		      ""
      BusOutputAsStruct	      "off"
      Name		      "pwm_l"
    }
    Outport {
      BusObject		      ""
      BusOutputAsStruct	      "off"
      Name		      "pwm_r"
    }
    ParameterArgumentNames  ""
    ComputedModelVersion    "1.802"
    NumModelReferences	    0
    NumTestPointedSignals   0
  }
  SavedCharacterEncoding  "Shift_JIS"
  PreLoadFcn		  "param_nxtway_gs"
  SaveDefaultBlockParams  on
  ScopeRefreshTime	  0.035000
  OverrideScopeRefreshTime on
  DisableAllScopes	  off
  DataTypeOverride	  "UseLocalSettings"
  MinMaxOverflowLogging	  "UseLocalSettings"
  MinMaxOverflowArchiveMode "Overwrite"
  MaxMDLFileLineLength	  120
  Created		  "Tue Sep 25 11:37:09 2007"
  Creator		  "y_yama"
  UpdateHistory		  "UpdateHistoryNever"
  ModifiedByFormat	  "%<Auto>"
  LastModifiedBy	  "michal"
  ModifiedDateFormat	  "%<Auto>"
  LastModifiedDate	  "Wed May 16 19:28:36 2012"
  RTWModifiedTimeStamp	  259097314
  ModelVersionFormat	  "1.%<AutoIncrement:802>"
  ConfigurationManager	  "None"
  SampleTimeColors	  off
  SampleTimeAnnotations	  off
  LibraryLinkDisplay	  "none"
  WideLines		  off
  ShowLineDimensions	  off
  ShowPortDataTypes	  on
  ShowLoopsOnError	  on
  IgnoreBidirectionalLines off
  ShowStorageClass	  off
  ShowTestPointIcons	  on
  ShowSignalResolutionIcons on
  ShowViewerIcons	  on
  SortedOrder		  off
  ExecutionContextIcon	  off
  ShowLinearizationAnnotations on
  BlockNameDataTip	  off
  BlockParametersDataTip  off
  BlockDescriptionStringDataTip	off
  ToolBar		  on
  StatusBar		  on
  BrowserShowLibraryLinks off
  BrowserLookUnderMasks	  off
  SimulationMode	  "normal"
  LinearizationMsg	  "none"
  Profile		  off
  ParamWorkspaceSource	  "MATLABWorkspace"
  AccelSystemTargetFile	  "accel.tlc"
  AccelTemplateMakefile	  "accel_default_tmf"
  AccelMakeCommand	  "make_rtw"
  TryForcingSFcnDF	  off
  RecordCoverage	  off
  CovPath		  "/"
  CovSaveName		  "covdata"
  CovMetricSettings	  "dw"
  CovNameIncrementing	  off
  CovHtmlReporting	  on
  CovForceBlockReductionOff on
  covSaveCumulativeToWorkspaceVar on
  CovSaveSingleToWorkspaceVar on
  CovCumulativeVarName	  "covCumulativeData"
  CovCumulativeReport	  off
  CovReportOnPause	  on
  CovModelRefEnable	  "Off"
  CovExternalEMLEnable	  off
  ExtModeBatchMode	  off
  ExtModeEnableFloating	  on
  ExtModeTrigType	  "manual"
  ExtModeTrigMode	  "normal"
  ExtModeTrigPort	  "1"
  ExtModeTrigElement	  "any"
  ExtModeTrigDuration	  1000
  ExtModeTrigDurationFloating "auto"
  ExtModeTrigHoldOff	  0
  ExtModeTrigDelay	  0
  ExtModeTrigDirection	  "rising"
  ExtModeTrigLevel	  0
  ExtModeArchiveMode	  "off"
  ExtModeAutoIncOneShot	  off
  ExtModeIncDirWhenArm	  off
  ExtModeAddSuffixToVar	  off
  ExtModeWriteAllDataToWs off
  ExtModeArmWhenConnect	  on
  ExtModeSkipDownloadWhenConnect off
  ExtModeLogAll		  on
  ExtModeAutoUpdateStatusClock on
  BufferReuse		  on
  ShowModelReferenceBlockVersion off
  ShowModelReferenceBlockIO off
  Array {
    Type		    "Handle"
    Dimension		    1
    Simulink.ConfigSet {
      $ObjectID		      1
      Version		      "1.10.0"
      Array {
	Type			"Handle"
	Dimension		9
	Simulink.SolverCC {
	  $ObjectID		  2
	  Version		  "1.10.0"
	  StartTime		  "0"
	  StopTime		  "inf"
	  AbsTol		  "auto"
	  FixedStep		  "TS"
	  InitialStep		  "auto"
	  MaxNumMinSteps	  "-1"
	  MaxOrder		  5
	  ZcThreshold		  "auto"
	  ConsecutiveZCsStepRelTol "10*128*eps"
	  MaxConsecutiveZCs	  "1000"
	  ExtrapolationOrder	  4
	  NumberNewtonIterations  1
	  MaxStep		  "auto"
	  MinStep		  "auto"
	  MaxConsecutiveMinStep	  "1"
	  RelTol		  "1e-3"
	  SolverMode		  "SingleTasking"
	  Solver		  "FixedStepDiscrete"
	  SolverName		  "FixedStepDiscrete"
	  SolverJacobianMethodControl "auto"
	  ShapePreserveControl	  "DisableAll"
	  ZeroCrossControl	  "UseLocalSettings"
	  ZeroCrossAlgorithm	  "Nonadaptive"
	  AlgebraicLoopSolver	  "TrustRegion"
	  SolverResetMethod	  "Fast"
	  PositivePriorityOrder	  off
	  AutoInsertRateTranBlk	  off
	  SampleTimeConstraint	  "Unconstrained"
	  InsertRTBMode		  "Whenever possible"
	}
	Simulink.DataIOCC {
	  $ObjectID		  3
	  Version		  "1.10.0"
	  Decimation		  "1"
	  ExternalInput		  "[t, u]"
	  FinalStateName	  "xFinal"
	  InitialState		  "xInitial"
	  LimitDataPoints	  on
	  MaxDataPoints		  "1000"
	  LoadExternalInput	  off
	  LoadInitialState	  off
	  SaveFinalState	  off
	  SaveCompleteFinalSimState off
	  SaveFormat		  "Array"
	  SaveOutput		  off
	  SaveState		  off
	  SignalLogging		  off
	  DSMLogging		  on
	  InspectSignalLogs	  off
	  SaveTime		  off
	  ReturnWorkspaceOutputs  off
	  StateSaveName		  "xout"
	  TimeSaveName		  "tout"
	  OutputSaveName	  "yout"
	  SignalLoggingName	  "logsout"
	  DSMLoggingName	  "dsmout"
	  OutputOption		  "RefineOutputTimes"
	  OutputTimes		  "[]"
	  ReturnWorkspaceOutputsName "out"
	  Refine		  "1"
	}
	Simulink.OptimizationCC {
	  $ObjectID		  4
	  Version		  "1.10.0"
	  BlockReduction	  on
	  BooleanDataType	  on
	  ConditionallyExecuteInputs on
	  InlineParams		  on
	  UseIntDivNetSlope	  off
	  InlineInvariantSignals  on
	  OptimizeBlockIOStorage  on
	  BufferReuse		  on
	  EnhancedBackFolding	  off
	  StrengthReduction	  off
	  EnforceIntegerDowncast  on
	  ExpressionFolding	  on
	  BooleansAsBitfields	  off
	  BitfieldContainerType	  "uint_T"
	  EnableMemcpy		  on
	  MemcpyThreshold	  64
	  PassReuseOutputArgsAs	  "Structure reference"
	  ExpressionDepthLimit	  2147483647
	  FoldNonRolledExpr	  on
	  LocalBlockOutputs	  on
	  RollThreshold		  2
	  SystemCodeInlineAuto	  off
	  StateBitsets		  on
	  DataBitsets		  on
	  UseTempVars		  on
	  ZeroExternalMemoryAtStartup off
	  ZeroInternalMemoryAtStartup off
	  InitFltsAndDblsToZero	  on
	  NoFixptDivByZeroProtection on
	  EfficientFloat2IntCast  on
	  EfficientMapNaN2IntZero on
	  OptimizeModelRefInitCode on
	  LifeSpan		  "1"
	  MaxStackSize		  "Inherit from target"
	  BufferReusableBoundary  on
	  SimCompilerOptimization "Off"
	  AccelVerboseBuild	  off
	}
	Simulink.DebuggingCC {
	  $ObjectID		  5
	  Version		  "1.10.0"
	  RTPrefix		  "error"
	  ConsistencyChecking	  "warning"
	  ArrayBoundsChecking	  "none"
	  SignalInfNanChecking	  "warning"
	  SignalRangeChecking	  "none"
	  ReadBeforeWriteMsg	  "DisableAll"
	  WriteAfterWriteMsg	  "DisableAll"
	  WriteAfterReadMsg	  "DisableAll"
	  AlgebraicLoopMsg	  "error"
	  ArtificialAlgebraicLoopMsg "warning"
	  SaveWithDisabledLinksMsg "warning"
	  SaveWithParameterizedLinksMsg	"warning"
	  CheckSSInitialOutputMsg on
	  UnderspecifiedInitializationDetection	"Classic"
	  MergeDetectMultiDrivingBlocksExec "none"
	  CheckExecutionContextPreStartOutputMsg on
	  CheckExecutionContextRuntimeOutputMsg	on
	  SignalResolutionControl "UseLocalSettings"
	  BlockPriorityViolationMsg "warning"
	  MinStepSizeMsg	  "warning"
	  TimeAdjustmentMsg	  "none"
	  MaxConsecutiveZCsMsg	  "error"
	  SolverPrmCheckMsg	  "none"
	  InheritedTsInSrcMsg	  "warning"
	  DiscreteInheritContinuousMsg "warning"
	  MultiTaskDSMMsg	  "warning"
	  MultiTaskCondExecSysMsg "error"
	  MultiTaskRateTransMsg	  "error"
	  SingleTaskRateTransMsg  "warning"
	  TasksWithSamePriorityMsg "none"
	  SigSpecEnsureSampleTimeMsg "warning"
	  CheckMatrixSingularityMsg "none"
	  IntegerOverflowMsg	  "none"
	  Int32ToFloatConvMsg	  "warning"
	  ParameterDowncastMsg	  "error"
	  ParameterOverflowMsg	  "error"
	  ParameterUnderflowMsg	  "none"
	  ParameterPrecisionLossMsg "none"
	  ParameterTunabilityLossMsg "warning"
	  FixptConstUnderflowMsg  "none"
	  FixptConstOverflowMsg	  "none"
	  FixptConstPrecisionLossMsg "none"
	  UnderSpecifiedDataTypeMsg "none"
	  UnnecessaryDatatypeConvMsg "none"
	  VectorMatrixConversionMsg "none"
	  InvalidFcnCallConnMsg	  "error"
	  FcnCallInpInsideContextMsg "Use local settings"
	  SignalLabelMismatchMsg  "none"
	  UnconnectedInputMsg	  "error"
	  UnconnectedOutputMsg	  "error"
	  UnconnectedLineMsg	  "error"
	  SFcnCompatibilityMsg	  "none"
	  UniqueDataStoreMsg	  "error"
	  BusObjectLabelMismatch  "error"
	  RootOutportRequireBusObject "error"
	  AssertControl		  "UseLocalSettings"
	  EnableOverflowDetection off
	  ModelReferenceIOMsg	  "none"
	  ModelReferenceVersionMismatchMessage "none"
	  ModelReferenceIOMismatchMessage "none"
	  ModelReferenceCSMismatchMessage "none"
	  UnknownTsInhSupMsg	  "warning"
	  ModelReferenceDataLoggingMessage "warning"
	  ModelReferenceSymbolNameMessage "warning"
	  ModelReferenceExtraNoncontSigs "error"
	  StateNameClashWarn	  "warning"
	  SimStateInterfaceChecksumMismatchMsg "warning"
	  StrictBusMsg		  "Warning"
	  BusNameAdapt		  "WarnAndRepair"
	  NonBusSignalsTreatedAsBus "none"
	  LoggingUnavailableSignals "error"
	  BlockIODiagnostic	  "none"
	}
	Simulink.HardwareCC {
	  $ObjectID		  6
	  Version		  "1.10.0"
	  ProdBitPerChar	  8
	  ProdBitPerShort	  16
	  ProdBitPerInt		  32
	  ProdBitPerLong	  32
	  ProdIntDivRoundTo	  "Zero"
	  ProdEndianess		  "LittleEndian"
	  ProdWordSize		  32
	  ProdShiftRightIntArith  on
	  ProdHWDeviceType	  "ARM7"
	  TargetBitPerChar	  8
	  TargetBitPerShort	  16
	  TargetBitPerInt	  32
	  TargetBitPerLong	  32
	  TargetShiftRightIntArith on
	  TargetIntDivRoundTo	  "Undefined"
	  TargetEndianess	  "Unspecified"
	  TargetWordSize	  32
	  TargetTypeEmulationWarnSuppressLevel 0
	  TargetPreprocMaxBitsSint 32
	  TargetPreprocMaxBitsUint 32
	  TargetHWDeviceType	  "32-bit Generic"
	  TargetUnknown		  off
	  ProdEqTarget		  on
	}
	Simulink.ModelReferenceCC {
	  $ObjectID		  7
	  Version		  "1.10.0"
	  UpdateModelReferenceTargets "IfOutOfDateOrStructuralChange"
	  CheckModelReferenceTargetMessage "error"
	  EnableParallelModelReferenceBuilds off
	  ParallelModelReferenceMATLABWorkerInit "None"
	  ModelReferenceNumInstancesAllowed "Single"
	  PropagateVarSize	  "Infer from blocks in model"
	  ModelReferencePassRootInputsByReference on
	  ModelReferenceMinAlgLoopOccurrences off
	  PropagateSignalLabelsOutOfModel off
	  SupportModelReferenceSimTargetCustomCode off
	}
	Simulink.SFSimCC {
	  $ObjectID		  8
	  Version		  "1.10.0"
	  SFSimEnableDebug	  on
	  SFSimOverflowDetection  on
	  SFSimEcho		  on
	  SimBlas		  on
	  SimCtrlC		  on
	  SimExtrinsic		  on
	  SimIntegrity		  on
	  SimUseLocalCustomCode	  off
	  SimBuildMode		  "sf_incremental_build"
	}
	Simulink.RTWCC {
	  $BackupClass		  "Simulink.RTWCC"
	  $ObjectID		  9
	  Version		  "1.10.0"
	  SystemTargetFile	  "ert.tlc"
	  GenCodeOnly		  on
	  MakeCommand		  "make_rtw"
	  GenerateMakefile	  off
	  TemplateMakefile	  "ert_default_tmf"
	  Description		  "Real-Time Workshop Embedded Coder (no auto configuration)"
	  GenerateReport	  on
	  SaveLog		  off
	  RTWVerbose		  off
	  RetainRTWFile		  off
	  ProfileTLC		  off
	  TLCDebug		  off
	  TLCCoverage		  off
	  TLCAssert		  off
	  ProcessScriptMode	  "Default"
	  ConfigurationMode	  "Optimized"
	  ProcessScript		  "ert_make_rtw_hook"
	  ConfigAtBuild		  off
	  RTWUseLocalCustomCode	  off
	  RTWUseSimCustomCode	  off
	  IncludeHyperlinkInReport on
	  LaunchReport		  on
	  TargetLang		  "C"
	  IncludeBusHierarchyInRTWFileBlockHierarchyMap	off
	  IncludeERTFirstTime	  off
	  GenerateTraceInfo	  off
	  GenerateTraceReport	  off
	  GenerateTraceReportSl	  off
	  GenerateTraceReportSf	  off
	  GenerateTraceReportEml  off
	  GenerateCodeInfo	  off
	  RTWCompilerOptimization "Off"
	  CheckMdlBeforeBuild	  "Off"
	  CustomRebuildMode	  "OnUpdate"
	  Array {
	    Type		    "Handle"
	    Dimension		    2
	    Simulink.CodeAppCC {
	      $ObjectID		      10
	      Version		      "1.10.0"
	      ForceParamTrailComments on
	      GenerateComments	      on
	      IgnoreCustomStorageClasses off
	      IgnoreTestpoints	      off
	      IncHierarchyInIds	      off
	      MaxIdLength	      63
	      PreserveName	      off
	      PreserveNameWithParent  off
	      ShowEliminatedStatement off
	      IncAutoGenComments      off
	      SimulinkDataObjDesc     off
	      SFDataObjDesc	      on
	      IncDataTypeInIds	      off
	      MangleLength	      1
	      CustomSymbolStrGlobalVar "rt$N$M"
	      CustomSymbolStrType     "$N$M"
	      CustomSymbolStrField    "$N$M"
	      CustomSymbolStrFcn      "$N$M$F"
	      CustomSymbolStrFcnArg   "rt$I$N$M"
	      CustomSymbolStrBlkIO    "rtb_$N$M"
	      CustomSymbolStrTmpVar   "$N$M"
	      CustomSymbolStrMacro    "$N$M"
	      DefineNamingRule	      "None"
	      ParamNamingRule	      "None"
	      SignalNamingRule	      "None"
	      InsertBlockDesc	      on
	      SimulinkBlockComments   on
	      EnableCustomComments    off
	      InlinedPrmAccess	      "Literals"
	      ReqsInCode	      off
	      UseSimReservedNames     off
	    }
	    Simulink.ERTTargetCC {
	      $BackupClass	      "Simulink.TargetCC"
	      $ObjectID		      11
	      Version		      "1.10.0"
	      TargetFcnLib	      "ansi_tfl_tmw.mat"
	      TargetLibSuffix	      ""
	      TargetPreCompLibLocation ""
	      TargetFunctionLibrary   "GNU"
	      UtilityFuncGeneration   "Auto"
	      ERTMultiwordTypeDef     "System defined"
	      ERTCodeCoverageTool     "None"
	      ERTMultiwordLength      256
	      MultiwordLength	      2048
	      GenerateFullHeader      on
	      GenerateSampleERTMain   off
	      GenerateTestInterfaces  off
	      IsPILTarget	      off
	      ModelReferenceCompliant on
	      ParMdlRefBuildCompliant on
	      CompOptLevelCompliant   on
	      IncludeMdlTerminateFcn  off
	      GeneratePreprocessorConditionals "Use local settings"
	      CombineOutputUpdateFcns on
	      SuppressErrorStatus     on
	      ERTFirstTimeCompliant   on
	      IncludeFileDelimiter    "Auto"
	      ERTCustomFileBanners    on
	      SupportAbsoluteTime     off
	      LogVarNameModifier      "rt_"
	      MatFileLogging	      off
	      MultiInstanceERTCode    off
	      SupportNonFinite	      off
	      SupportComplex	      off
	      PurelyIntegerCode	      off
	      SupportContinuousTime   off
	      SupportNonInlinedSFcns  off
	      SupportVariableSizeSignals off
	      EnableShiftOperators    on
	      ParenthesesLevel	      "Nominal"
	      PortableWordSizes	      off
	      ModelStepFunctionPrototypeControlCompliant on
	      CPPClassGenCompliant    on
	      AutosarCompliant	      off
	      GenerateErtSFunction    off
	      GenerateASAP2	      off
	      ExtMode		      off
	      ExtModeTransport	      0
	      ExtModeStaticAlloc      off
	      ExtModeStaticAllocSize  1000000
	      ExtModeTesting	      off
	      ExtModeMexFile	      "ext_comm"
	      ExtModeIntrfLevel	      "Level1"
	      InlinedParameterPlacement	"NonHierarchical"
	      TargetOS		      "BareBoardExample"
	      MultiInstanceErrorCode  "Error"
	      RateGroupingCode	      on
	      RootIOFormat	      "Structure reference"
	      RTWCAPISignals	      off
	      RTWCAPIParams	      off
	      RTWCAPIStates	      off
	      ERTSrcFileBannerTemplate "ert_code_template.cgt"
	      ERTHdrFileBannerTemplate "ert_code_template.cgt"
	      ERTDataSrcFileTemplate  "ert_code_template.cgt"
	      ERTDataHdrFileTemplate  "ert_code_template.cgt"
	      ERTCustomFileTemplate   "example_file_process.tlc"
	      CoverageDialogOpen      "off"
	      ModuleNamingRule	      "Unspecified"
	      SignalDisplayLevel      10
	      ParamTuneLevel	      10
	      GlobalDataDefinition    "Auto"
	      DataDefinitionFile      ""
	      GlobalDataReference     "Auto"
	      ERTFilePackagingFormat  "Modular"
	      DataReferenceFile	      ""
	      GRTInterface	      off
	      PreserveExpressionOrder off
	      PreserveIfCondition     off
	      ConvertIfToSwitch	      off
	      PreserveExternInFcnDecls on
	      EnableUserReplacementTypes off
	      Array {
		Type			"Struct"
		Dimension		1
		MATStruct {
		  double		  ""
		  single		  ""
		  int32			  ""
		  int16			  ""
		  int8			  ""
		  uint32		  ""
		  uint16		  ""
		  uint8			  ""
		  boolean		  ""
		  int			  ""
		  uint			  ""
		  char			  ""
		}
		PropName		"ReplacementTypes"
	      }
	      MemSecPackage	      "--- None ---"
	      MemSecDataConstants     "Default"
	      MemSecDataIO	      "Default"
	      MemSecDataInternal      "Default"
	      MemSecDataParameters    "Default"
	      MemSecFuncInitTerm      "Default"
	      MemSecFuncExecute	      "Default"
	    }
	    PropName		    "Components"
	  }
	}
	hdlcoderui.hdlcc {
	  $ObjectID		  12
	  Version		  "1.10.0"
	  Description		  "HDL Coder custom configuration component"
	  Name			  "HDL Coder"
	  Array {
	    Type		    "Cell"
	    Dimension		    1
	    Cell		    ""
	    PropName		    "HDLConfigFile"
	  }
	  HDLCActiveTab		  "0"
	}
	PropName		"Components"
      }
      Name		      "Configuration"
      ExtraOptions	      "-aGenerateTraceInfo=0 -aIgnoreTestpoints=0 "
      CurrentDlgPage	      "Solver"
      ConfigPrmDlgPosition    " [ 520, 225, 1400, 855 ] "
    }
    PropName		    "ConfigurationSets"
  }
  Simulink.ConfigSet {
    $PropName		    "ActiveConfigurationSet"
    $ObjectID		    1
  }
  BlockDefaults {
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    NamePlacement	    "normal"
    FontName		    "MS UI Gothic"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
    ShowName		    on
    BlockRotation	    0
    BlockMirror		    off
  }
  AnnotationDefaults {
    HorizontalAlignment	    "center"
    VerticalAlignment	    "middle"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    FontName		    "MS UI Gothic"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
    UseDisplayTextAsClickCallback off
  }
  LineDefaults {
    FontName		    "MS UI Gothic"
    FontSize		    9
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  BlockParameterDefaults {
    Block {
      BlockType		      Constant
      Value		      "1"
      VectorParams1D	      on
      SamplingMode	      "Sample based"
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeMode	      "Inherit from 'Constant value'"
      OutDataType	      "fixdt(1,16,0)"
      ConRadixGroup	      "Use specified scaling"
      OutScaling	      "[]"
      OutDataTypeStr	      "Inherit: Inherit from 'Constant value'"
      LockScale		      off
      SampleTime	      "inf"
      FramePeriod	      "inf"
      PreserveConstantTs      off
    }
    Block {
      BlockType		      DataStoreMemory
      ReadBeforeWriteMsg      "none"
      WriteAfterWriteMsg      "none"
      WriteAfterReadMsg	      "none"
      InitialValue	      "0"
      StateMustResolveToSignalObject off
      ShowAdditionalParam     off
      OutMin		      "[]"
      OutMax		      "[]"
      DataType		      "auto"
      OutDataType	      "fixdt(1,16,0)"
      OutScaling	      "[]"
      OutDataTypeStr	      "Inherit: auto"
      LockScale		      off
      SignalType	      "auto"
      DataLogging	      off
      DataLoggingLimitDataPoints off
      DataLoggingMaxPoints    "5000"
      DataLoggingDecimateData off
      DataLoggingDecimation   "2"
      DataLoggingNameMode     "SignalName"
    }
    Block {
      BlockType		      DataStoreRead
    }
    Block {
      BlockType		      DataStoreWrite
    }
    Block {
      BlockType		      DataTypeConversion
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeMode	      "Inherit via back propagation"
      OutDataType	      "fixdt(1,16,0)"
      OutScaling	      "[]"
      OutDataTypeStr	      "Inherit: Inherit via back propagation"
      LockScale		      off
      ConvertRealWorld	      "Real World Value (RWV)"
      RndMeth		      "Zero"
      SaturateOnIntegerOverflow	on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Demux
      Outputs		      "4"
      DisplayOption	      "none"
      BusSelectionMode	      off
    }
    Block {
      BlockType		      EnablePort
      StatesWhenEnabling      "held"
      PropagateVarSize	      "Only when enabling"
      ShowOutputPort	      off
      ZeroCross		      on
    }
    Block {
      BlockType		      Gain
      Gain		      "1"
      Multiplication	      "Element-wise(K.*u)"
      ParamMin		      "[]"
      ParamMax		      "[]"
      ParameterDataTypeMode   "Same as input"
      ParameterDataType	      "fixdt(1,16,0)"
      ParameterScalingMode    "Best Precision: Matrix-wise"
      ParameterScaling	      "[]"
      ParamDataTypeStr	      "Inherit: Same as input"
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeMode	      "Same as input"
      OutDataType	      "fixdt(1,16,0)"
      OutScaling	      "[]"
      OutDataTypeStr	      "Inherit: Same as input"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Ground
    }
    Block {
      BlockType		      Inport
      Port		      "1"
      UseBusObject	      off
      BusObject		      "BusObject"
      BusOutputAsStruct	      off
      PortDimensions	      "-1"
      VarSizeSig	      "Inherit"
      SampleTime	      "-1"
      OutMin		      "[]"
      OutMax		      "[]"
      DataType		      "auto"
      OutDataType	      "fixdt(1,16,0)"
      OutScaling	      "[]"
      OutDataTypeStr	      "Inherit: auto"
      LockScale		      off
      SignalType	      "auto"
      SamplingMode	      "auto"
      LatchByDelayingOutsideSignal off
      LatchInputForFeedbackSignals off
      Interpolate	      on
    }
    Block {
      BlockType		      Logic
      Operator		      "AND"
      Inputs		      "2"
      IconShape		      "rectangular"
      AllPortsSameDT	      on
      OutDataTypeMode	      "Logical (see Configuration Parameters: Optimization)"
      LogicDataType	      "uint(8)"
      OutDataTypeStr	      "Inherit: Logical (see Configuration Parameters: Optimization)"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Mux
      Inputs		      "4"
      DisplayOption	      "none"
      UseBusObject	      off
      BusObject		      "BusObject"
      NonVirtualBus	      off
    }
    Block {
      BlockType		      Outport
      Port		      "1"
      UseBusObject	      off
      BusObject		      "BusObject"
      BusOutputAsStruct	      off
      PortDimensions	      "-1"
      VarSizeSig	      "Inherit"
      SampleTime	      "-1"
      OutMin		      "[]"
      OutMax		      "[]"
      DataType		      "auto"
      OutDataType	      "fixdt(1,16,0)"
      OutScaling	      "[]"
      OutDataTypeStr	      "Inherit: auto"
      LockScale		      off
      SignalType	      "auto"
      SamplingMode	      "auto"
      SourceOfInitialOutputValue "Dialog"
      OutputWhenDisabled      "held"
      InitialOutput	      "[]"
    }
    Block {
      BlockType		      Product
      Inputs		      "2"
      Multiplication	      "Element-wise(.*)"
      CollapseMode	      "All dimensions"
      CollapseDim	      "1"
      InputSameDT	      on
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeMode	      "Same as first input"
      OutDataType	      "fixdt(1,16,0)"
      OutScaling	      "[]"
      OutDataTypeStr	      "Inherit: Same as first input"
      LockScale		      off
      RndMeth		      "Zero"
      SaturateOnIntegerOverflow	on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      RelationalOperator
      Operator		      ">="
      InputSameDT	      on
      LogicOutDataTypeMode    "Logical (see Configuration Parameters: Optimization)"
      LogicDataType	      "uint(8)"
      OutDataTypeStr	      "Inherit: Logical (see Configuration Parameters: Optimization)"
      ZeroCross		      on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Saturate
      UpperLimit	      "0.5"
      LowerLimit	      "-0.5"
      LinearizeAsGain	      on
      ZeroCross		      on
      SampleTime	      "-1"
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeMode	      "Same as input"
      OutDataType	      "fixdt(1,16,0)"
      OutScaling	      "[]"
      OutDataTypeStr	      "Inherit: Same as input"
      LockScale		      off
      RndMeth		      "Floor"
    }
    Block {
      BlockType		      Scope
      ModelBased	      off
      TickLabels	      "OneTimeTick"
      ZoomMode		      "on"
      Grid		      "on"
      TimeRange		      "auto"
      YMin		      "-5"
      YMax		      "5"
      SaveToWorkspace	      off
      SaveName		      "ScopeData"
      LimitDataPoints	      on
      MaxDataPoints	      "5000"
      Decimation	      "1"
      SampleInput	      off
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Selector
      NumberOfDimensions      "1"
      IndexMode		      "One-based"
      InputPortWidth	      "-1"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      SubSystem
      ShowPortLabels	      "FromPortIcon"
      Permissions	      "ReadWrite"
      PermitHierarchicalResolution "All"
      TreatAsAtomicUnit	      off
      CheckFcnCallInpInsideContextMsg off
      SystemSampleTime	      "-1"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      RTWMemSecFuncInitTerm   "Inherit from model"
      RTWMemSecFuncExecute    "Inherit from model"
      RTWMemSecDataConstants  "Inherit from model"
      RTWMemSecDataInternal   "Inherit from model"
      RTWMemSecDataParameters "Inherit from model"
      SimViewingDevice	      off
      DataTypeOverride	      "UseLocalSettings"
      MinMaxOverflowLogging   "UseLocalSettings"
    }
    Block {
      BlockType		      Sum
      IconShape		      "rectangular"
      Inputs		      "++"
      CollapseMode	      "All dimensions"
      CollapseDim	      "1"
      InputSameDT	      on
      AccumDataTypeStr	      "Inherit: Inherit via internal rule"
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeMode	      "Same as first input"
      OutDataType	      "fixdt(1,16,0)"
      OutScaling	      "[]"
      OutDataTypeStr	      "Inherit: Same as first input"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Switch
      Criteria		      "u2 >= Threshold"
      Threshold		      "0"
      InputSameDT	      on
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeMode	      "Inherit via internal rule"
      OutDataType	      "fixdt(1,16,0)"
      OutScaling	      "[]"
      OutDataTypeStr	      "Inherit: Inherit via internal rule"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
      ZeroCross		      on
      SampleTime	      "-1"
      AllowDiffInputSizes     off
    }
    Block {
      BlockType		      Terminator
    }
    Block {
      BlockType		      TriggerPort
      TriggerType	      "rising"
      StatesWhenEnabling      "inherit"
      PropagateVarSize	      "During execution"
      ShowOutputPort	      off
      OutputDataType	      "auto"
      SampleTimeType	      "triggered"
      SampleTime	      "1"
      ZeroCross		      on
      PortDimensions	      "-1"
      TriggerSignalSampleTime "-1"
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeStr	      "Inherit: auto"
      Interpolate	      on
    }
    Block {
      BlockType		      UnitDelay
      X0		      "0"
      SampleTime	      "1"
      StateMustResolveToSignalObject off
      RTWStateStorageClass    "Auto"
    }
  }
  System {
    Name		    "nxtway_gs_controller"
    Location		    [1440, 57, 2256, 666]
    Open		    on
    ModelBrowserVisibility  off
    ModelBrowserWidth	    200
    ScreenColor		    "white"
    PaperOrientation	    "landscape"
    PaperPositionMode	    "auto"
    PaperType		    "A4"
    PaperUnits		    "centimeters"
    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
    TiledPageScale	    1
    ShowPageBoundaries	    off
    ZoomFactor		    "100"
    ReportName		    "simulink-default.rpt"
    SIDHighWatermark	    472
    Block {
      BlockType		      Inport
      Name		      "battery"
      SID		      1
      Position		      [25, 483, 55, 497]
      IconDisplay	      "Port number"
      DataType		      "uint16"
      OutDataTypeStr	      "uint16"
    }
    Block {
      BlockType		      Inport
      Name		      "bluetooth_rx"
      SID		      2
      Position		      [25, 418, 55, 432]
      Port		      "2"
      IconDisplay	      "Port number"
      DataType		      "uint8"
      OutDataTypeStr	      "uint8"
    }
    Block {
      BlockType		      Inport
      Name		      "theta_m_l"
      SID		      3
      Position		      [25, 138, 55, 152]
      Port		      "3"
      IconDisplay	      "Port number"
      DataType		      "int32"
      OutDataTypeStr	      "int32"
    }
    Block {
      BlockType		      Inport
      Name		      "theta_m_r"
      SID		      4
      Position		      [25, 208, 55, 222]
      Port		      "4"
      IconDisplay	      "Port number"
      DataType		      "int32"
      OutDataTypeStr	      "int32"
    }
    Block {
      BlockType		      Inport
      Name		      "gyro"
      SID		      5
      Position		      [25, 348, 55, 362]
      Port		      "5"
      IconDisplay	      "Port number"
      DataType		      "uint16"
      OutDataTypeStr	      "uint16"
    }
    Block {
      BlockType		      Inport
      Name		      "sonar"
      SID		      6
      Position		      [25, 278, 55, 292]
      Port		      "6"
      IconDisplay	      "Port number"
      DataType		      "int32"
      OutDataTypeStr	      "int32"
    }
    Block {
      BlockType		      Reference
      Name		      "Battery Voltage Interface"
      SID		      7
      Ports		      [1]
      Position		      [120, 470, 175, 510]
      Priority		      "-1"
      AttributesFormatString  "Priority = %<Priority>"
      LibraryVersion	      "1.683"
      SourceBlock	      "ecrobot_nxt_lib/Battery Voltage\nInterface"
      SourceType	      "Battery Voltage Interface"
      ShowPortLabels	      "FromPortIcon"
      SystemSampleTime	      "-1"
      FunctionWithSeparateData off
      RTWMemSecFuncInitTerm   "Inherit from model"
      RTWMemSecFuncExecute    "Inherit from model"
      RTWMemSecDataConstants  "Inherit from model"
      RTWMemSecDataInternal   "Inherit from model"
      RTWMemSecDataParameters "Inherit from model"
    }
    Block {
      BlockType		      Reference
      Name		      "Bluetooth Rx Interface"
      SID		      8
      Ports		      [1]
      Position		      [120, 405, 175, 445]
      Priority		      "-1"
      AttributesFormatString  "Priority = %<Priority>"
      LibraryVersion	      "1.683"
      SourceBlock	      "ecrobot_nxt_lib/Bluetooth Rx\nInterface"
      SourceType	      "Bluetooth Rx Interface"
      ShowPortLabels	      "FromPortIcon"
      SystemSampleTime	      "-1"
      FunctionWithSeparateData off
      RTWMemSecFuncInitTerm   "Inherit from model"
      RTWMemSecFuncExecute    "Inherit from model"
      RTWMemSecDataConstants  "Inherit from model"
      RTWMemSecDataInternal   "Inherit from model"
      RTWMemSecDataParameters "Inherit from model"
    }
    Block {
      BlockType		      Reference
      Name		      "Bluetooth Tx Interface"
      SID		      9
      Ports		      [0, 1]
      Position		      [650, 265, 705, 305]
      Priority		      "1"
      AttributesFormatString  "Priority = %<Priority>"
      LibraryVersion	      "1.683"
      SourceBlock	      "ecrobot_nxt_lib/Bluetooth Tx\nInterface"
      SourceType	      "Bluetooth Rx Interface"
      ShowPortLabels	      "FromPortIcon"
      SystemSampleTime	      "-1"
      FunctionWithSeparateData off
      RTWMemSecFuncInitTerm   "Inherit from model"
      RTWMemSecFuncExecute    "Inherit from model"
      RTWMemSecDataConstants  "Inherit from model"
      RTWMemSecDataInternal   "Inherit from model"
      RTWMemSecDataParameters "Inherit from model"
    }
    Block {
      BlockType		      Demux
      Name		      "Demux"
      SID		      10
      Ports		      [1, 4]
      Position		      [410, 143, 415, 267]
      BackgroundColor	      "black"
      ShowName		      off
      DisplayOption	      "bar"
      Port {
	PortNumber		1
	Name			"task_init"
	RTWStorageClass		"Auto"
	DataLoggingNameMode	"SignalName"
      }
      Port {
	PortNumber		2
	Name			"task_ts1"
	RTWStorageClass		"Auto"
	DataLoggingNameMode	"SignalName"
      }
      Port {
	PortNumber		3
	Name			"task_ts2"
	RTWStorageClass		"Auto"
	DataLoggingNameMode	"SignalName"
      }
      Port {
	PortNumber		4
	Name			"task_ts3"
	RTWStorageClass		"Auto"
	DataLoggingNameMode	"SignalName"
      }
    }
    Block {
      BlockType		      Reference
      Name		      "ExpFcnCalls Scheduler"
      SID		      11
      Ports		      [0, 1]
      Position		      [235, 166, 360, 244]
      Priority		      "0"
      AttributesFormatString  "Priority = %<Priority>"
      LibraryVersion	      "1.683"
      SourceBlock	      "ecrobot_nxt_lib/ExpFcnCalls Scheduler"
      SourceType	      "Exported Function-Calls Scheduler"
      fcname		      "'task_init', 'task_ts1', 'task_ts2', 'task_ts3'"
      fctrigger		      "[0, ts1*1000, ts2*1000, ts3*1000]"
      ts		      "0.001"
      platform		      "OSEK"
      stacksize		      "[512, 512, 512, 512]"
      bd_mode		      "Slave"
    }
    Block {
      BlockType		      Reference
      Name		      "Gyro Sensor Interface"
      SID		      12
      Ports		      [1]
      Position		      [120, 335, 175, 375]
      Priority		      "-1"
      AttributesFormatString  "Port = %<ip>\\nPriority = %<Priority>"
      LibraryVersion	      "1.683"
      SourceBlock	      "ecrobot_nxt_lib/Gyro Sensor\nInterface"
      SourceType	      "Gyro Sensor Interface"
      ShowPortLabels	      "FromPortIcon"
      SystemSampleTime	      "-1"
      FunctionWithSeparateData off
      RTWMemSecFuncInitTerm   "Inherit from model"
      RTWMemSecFuncExecute    "Inherit from model"
      RTWMemSecDataConstants  "Inherit from model"
      RTWMemSecDataInternal   "Inherit from model"
      RTWMemSecDataParameters "Inherit from model"
      ip		      "S4"
    }
    Block {
      BlockType		      Reference
      Name		      "Revolution Sensor Interface"
      SID		      13
      Ports		      [1]
      Position		      [120, 125, 175, 165]
      Priority		      "-1"
      AttributesFormatString  "Port = %<ip>\\nPriority = %<Priority>"
      LibraryVersion	      "1.683"
      SourceBlock	      "ecrobot_nxt_lib/Revolution Sensor\nInterface"
      SourceType	      "Revolution Sensor Interface"
      ShowPortLabels	      "FromPortIcon"
      SystemSampleTime	      "-1"
      FunctionWithSeparateData off
      RTWMemSecFuncInitTerm   "Inherit from model"
      RTWMemSecFuncExecute    "Inherit from model"
      RTWMemSecDataConstants  "Inherit from model"
      RTWMemSecDataInternal   "Inherit from model"
      RTWMemSecDataParameters "Inherit from model"
      ip		      "C"
    }
    Block {
      BlockType		      Reference
      Name		      "Revolution Sensor Interface1"
      SID		      14
      Ports		      [1]
      Position		      [120, 195, 175, 235]
      Priority		      "-1"
      AttributesFormatString  "Port = %<ip>\\nPriority = %<Priority>"
      LibraryVersion	      "1.683"
      SourceBlock	      "ecrobot_nxt_lib/Revolution Sensor\nInterface"
      SourceType	      "Revolution Sensor Interface"
      ShowPortLabels	      "FromPortIcon"
      SystemSampleTime	      "-1"
      FunctionWithSeparateData off
      RTWMemSecFuncInitTerm   "Inherit from model"
      RTWMemSecFuncExecute    "Inherit from model"
      RTWMemSecDataConstants  "Inherit from model"
      RTWMemSecDataInternal   "Inherit from model"
      RTWMemSecDataParameters "Inherit from model"
      ip		      "B"
    }
    Block {
      BlockType		      Reference
      Name		      "Servo Motor Interface"
      SID		      15
      Ports		      [0, 1]
      Position		      [650, 195, 705, 235]
      Priority		      "1"
      AttributesFormatString  "Port = %<ip>\\nPriority = %<Priority>"
      LibraryVersion	      "1.683"
      SourceBlock	      "ecrobot_nxt_lib/Servo Motor\nInterface"
      SourceType	      "Servo Motor Interface"
      ShowPortLabels	      "FromPortIcon"
      SystemSampleTime	      "-1"
      FunctionWithSeparateData off
      RTWMemSecFuncInitTerm   "Inherit from model"
      RTWMemSecFuncExecute    "Inherit from model"
      RTWMemSecDataConstants  "Inherit from model"
      RTWMemSecDataInternal   "Inherit from model"
      RTWMemSecDataParameters "Inherit from model"
      ip		      "B"
      mode		      "Brake"
    }
    Block {
      BlockType		      Reference
      Name		      "Servo Motor Interface1"
      SID		      16
      Ports		      [0, 1]
      Position		      [650, 125, 705, 165]
      Priority		      "1"
      AttributesFormatString  "Port = %<ip>\\nPriority = %<Priority>"
      LibraryVersion	      "1.683"
      SourceBlock	      "ecrobot_nxt_lib/Servo Motor\nInterface"
      SourceType	      "Servo Motor Interface"
      ShowPortLabels	      "FromPortIcon"
      SystemSampleTime	      "-1"
      FunctionWithSeparateData off
      RTWMemSecFuncInitTerm   "Inherit from model"
      RTWMemSecFuncExecute    "Inherit from model"
      RTWMemSecDataConstants  "Inherit from model"
      RTWMemSecDataInternal   "Inherit from model"
      RTWMemSecDataParameters "Inherit from model"
      ip		      "C"
      mode		      "Brake"
    }
    Block {
      BlockType		      Reference
      Name		      "Sound Tone Interface"
      SID		      17
      Ports		      [0, 2]
      Position		      [650, 330, 705, 370]
      Priority		      "1"
      AttributesFormatString  "Priority = %<Priority>"
      LibraryVersion	      "1.683"
      SourceBlock	      "ecrobot_nxt_lib/Sound Tone \nInterface"
      SourceType	      "Sound Tone Interface"
      ShowPortLabels	      "FromPortIcon"
      SystemSampleTime	      "-1"
      FunctionWithSeparateData off
      RTWMemSecFuncInitTerm   "Inherit from model"
      RTWMemSecFuncExecute    "Inherit from model"
      RTWMemSecDataConstants  "Inherit from model"
      RTWMemSecDataInternal   "Inherit from model"
      RTWMemSecDataParameters "Inherit from model"
    }
    Block {
      BlockType		      Reference
      Name		      "System Clock Interface"
      SID		      18
      Ports		      []
      Position		      [120, 535, 175, 575]
      Priority		      "-1"
      AttributesFormatString  "Priority = %<Priority>"
      LibraryVersion	      "1.683"
      SourceBlock	      "ecrobot_nxt_lib/System Clock\nInterface"
      SourceType	      "System Clock Interface"
      ShowPortLabels	      "FromPortIcon"
      SystemSampleTime	      "-1"
      FunctionWithSeparateData off
      RTWMemSecFuncInitTerm   "Inherit from model"
      RTWMemSecFuncExecute    "Inherit from model"
      RTWMemSecDataConstants  "Inherit from model"
      RTWMemSecDataInternal   "Inherit from model"
      RTWMemSecDataParameters "Inherit from model"
    }
    Block {
      BlockType		      Terminator
      Name		      "Terminator"
      SID		      19
      Position		      [775, 277, 790, 293]
      ShowName		      off
    }
    Block {
      BlockType		      Terminator
      Name		      "Terminator1"
      SID		      20
      Position		      [775, 332, 790, 348]
      ShowName		      off
    }
    Block {
      BlockType		      Terminator
      Name		      "Terminator2"
      SID		      21
      Position		      [775, 352, 790, 368]
      ShowName		      off
    }
    Block {
      BlockType		      Reference
      Name		      "Ultrasonic Sensor Interface"
      SID		      22
      Ports		      [1]
      Position		      [120, 265, 175, 305]
      Priority		      "-1"
      AttributesFormatString  "Port = %<ip>\\nPriority = %<Priority>"
      LibraryVersion	      "1.683"
      SourceBlock	      "ecrobot_nxt_lib/Ultrasonic Sensor\nInterface"
      SourceType	      "Ultrasonic Sensor Interface"
      ShowPortLabels	      "FromPortIcon"
      SystemSampleTime	      "-1"
      FunctionWithSeparateData off
      RTWMemSecFuncInitTerm   "Inherit from model"
      RTWMemSecFuncExecute    "Inherit from model"
      RTWMemSecDataConstants  "Inherit from model"
      RTWMemSecDataInternal   "Inherit from model"
      RTWMemSecDataParameters "Inherit from model"
      ip		      "S2"
    }
    Block {
      BlockType		      SubSystem
      Name		      "nxtway_app"
      SID		      23
      Ports		      [4]
      Position		      [475, 143, 595, 267]
      MinAlgLoopOccurrences   off
      PropExecContextOutsideSubsystem off
      RTWSystemCode	      "Auto"
      FunctionWithSeparateData off
      Opaque		      off
      RequestExecContextInheritance off
      MaskHideContents	      off
      System {
	Name			"nxtway_app"
	Location		[1309, 57, 1941, 613]
	Open			on
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"A4"
	PaperUnits		"centimeters"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "task_init_fc"
	  SID			  24
	  Position		  [35, 98, 65, 112]
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Inport
	  Name			  "task_ts1_fc"
	  SID			  25
	  Position		  [180, 98, 210, 112]
	  Port			  "2"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Inport
	  Name			  "task_ts2_fc"
	  SID			  26
	  Position		  [320, 98, 350, 112]
	  Port			  "3"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Inport
	  Name			  "task_ts3_fc"
	  SID			  27
	  Position		  [460, 98, 490, 112]
	  Port			  "4"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  DataStoreMemory
	  Name			  "Data Store\nMemory"
	  SID			  28
	  Position		  [30, 385, 100, 405]
	  ShowName		  off
	  AttributesFormatString  "DataType = %<OutDataTypeStr>"
	  DataStoreName		  "flag_start"
	  ReadBeforeWriteMsg	  "warning"
	  WriteAfterWriteMsg	  "warning"
	  WriteAfterReadMsg	  "warning"
	  RTWStateStorageClass	  "Auto"
	  VectorParams1D	  on
	  DataType		  "boolean"
	  OutDataTypeStr	  "boolean"
	  SignalType		  "real"
	}
	Block {
	  BlockType		  DataStoreMemory
	  Name			  "Data Store\nMemory1"
	  SID			  29
	  Position		  [30, 495, 100, 515]
	  ShowName		  off
	  AttributesFormatString  "DataType = %<OutDataTypeStr>"
	  DataStoreName		  "flag_avoid"
	  ReadBeforeWriteMsg	  "warning"
	  WriteAfterWriteMsg	  "warning"
	  WriteAfterReadMsg	  "warning"
	  RTWStateStorageClass	  "Auto"
	  VectorParams1D	  on
	  DataType		  "boolean"
	  OutDataTypeStr	  "boolean"
	  SignalType		  "real"
	}
	Block {
	  BlockType		  DataStoreMemory
	  Name			  "Data Store\nMemory3"
	  SID			  30
	  Position		  [30, 330, 100, 350]
	  ShowName		  off
	  AttributesFormatString  "DataType = %<OutDataTypeStr>"
	  DataStoreName		  "flag_mode"
	  ReadBeforeWriteMsg	  "warning"
	  WriteAfterWriteMsg	  "warning"
	  WriteAfterReadMsg	  "warning"
	  RTWStateStorageClass	  "Auto"
	  VectorParams1D	  on
	  DataType		  "boolean"
	  OutDataTypeStr	  "boolean"
	  SignalType		  "real"
	}
	Block {
	  BlockType		  DataStoreMemory
	  Name			  "Data Store\nMemory4"
	  SID			  31
	  Position		  [30, 440, 100, 460]
	  ShowName		  off
	  AttributesFormatString  "DataType = %<OutDataTypeStr>"
	  DataStoreName		  "flag_auto"
	  ReadBeforeWriteMsg	  "warning"
	  WriteAfterWriteMsg	  "warning"
	  WriteAfterReadMsg	  "warning"
	  RTWStateStorageClass	  "Auto"
	  VectorParams1D	  on
	  DataType		  "boolean"
	  OutDataTypeStr	  "boolean"
	  SignalType		  "real"
	}
	Block {
	  BlockType		  DataStoreMemory
	  Name			  "Data Store\nMemory5"
	  SID			  32
	  Position		  [340, 375, 410, 395]
	  ShowName		  off
	  AttributesFormatString  "DataType = %<OutDataTypeStr>"
	  DataStoreName		  "gyro_offset"
	  ReadBeforeWriteMsg	  "warning"
	  WriteAfterWriteMsg	  "warning"
	  WriteAfterReadMsg	  "warning"
	  RTWStateStorageClass	  "Auto"
	  VectorParams1D	  on
	  DataType		  "single"
	  OutDataTypeStr	  "single"
	  SignalType		  "real"
	}
	Block {
	  BlockType		  DataStoreMemory
	  Name			  "Data Store\nMemory7"
	  SID			  33
	  Position		  [340, 330, 410, 350]
	  ShowName		  off
	  AttributesFormatString  "DataType = %<OutDataTypeStr>"
	  DataStoreName		  "battery"
	  ReadBeforeWriteMsg	  "warning"
	  WriteAfterWriteMsg	  "warning"
	  WriteAfterReadMsg	  "warning"
	  RTWStateStorageClass	  "Auto"
	  VectorParams1D	  on
	  DataType		  "single"
	  OutDataTypeStr	  "single"
	  SignalType		  "real"
	}
	Block {
	  BlockType		  DataStoreMemory
	  Name			  "Data Store\nMemory9"
	  SID			  34
	  Position		  [340, 420, 410, 440]
	  ShowName		  off
	  AttributesFormatString  "DataType = %<OutDataTypeStr>"
	  DataStoreName		  "start_time"
	  ReadBeforeWriteMsg	  "warning"
	  WriteAfterWriteMsg	  "warning"
	  WriteAfterReadMsg	  "warning"
	  RTWStateStorageClass	  "Auto"
	  VectorParams1D	  on
	  DataType		  "uint32"
	  OutDataTypeStr	  "uint32"
	  SignalType		  "real"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "task_init"
	  SID			  35
	  Ports			  [0, 0, 0, 1]
	  Position		  [50, 144, 170, 188]
	  TreatAsAtomicUnit	  on
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  System {
	    Name		    "task_init"
	    Location		    [1656, 230, 2182, 652]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      TriggerPort
	      Name		      "function"
	      SID		      36
	      Ports		      []
	      Position		      [30, 75, 50, 95]
	      ShowName		      off
	      TriggerType	      "function-call"
	      StatesWhenEnabling      "held"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Battery Voltage Read"
	      SID		      37
	      Ports		      [0, 1]
	      Position		      [50, 275, 105, 315]
	      LibraryVersion	      "1.683"
	      SourceBlock	      "ecrobot_nxt_lib/Battery Voltage\nRead"
	      SourceType	      "Battery Voltage Read"
	      ShowPortLabels	      "FromPortIcon"
	      SystemSampleTime	      "-1"
	      FunctionWithSeparateData off
	      RTWMemSecFuncInitTerm   "Inherit from model"
	      RTWMemSecFuncExecute    "Inherit from model"
	      RTWMemSecDataConstants  "Inherit from model"
	      RTWMemSecDataInternal   "Inherit from model"
	      RTWMemSecDataParameters "Inherit from model"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant1"
	      SID		      38
	      Position		      [55, 160, 95, 180]
	      ShowName		      off
	      AttributesFormatString  "DataType = %<OutDataTypeStr>"
	      Value		      "0"
	      OutDataTypeMode	      "boolean"
	      OutDataTypeStr	      "boolean"
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant7"
	      SID		      39
	      Position		      [55, 125, 95, 145]
	      ShowName		      off
	      AttributesFormatString  "DataType = %<OutDataTypeStr>"
	      OutDataTypeMode	      "boolean"
	      OutDataTypeStr	      "boolean"
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      DataStoreWrite
	      Name		      "Data Store\nWrite1"
	      SID		      40
	      Position		      [245, 350, 315, 370]
	      ShowName		      off
	      DataStoreName	      "gyro_offset"
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      DataStoreWrite
	      Name		      "Data Store\nWrite5"
	      SID		      41
	      Position		      [245, 145, 315, 165]
	      ShowName		      off
	      DataStoreName	      "flag_mode"
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      DataStoreWrite
	      Name		      "Data Store\nWrite7"
	      SID		      42
	      Position		      [245, 285, 315, 305]
	      ShowName		      off
	      DataStoreName	      "battery"
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      DataStoreWrite
	      Name		      "Data Store\nWrite8"
	      SID		      43
	      Position		      [245, 220, 315, 240]
	      ShowName		      off
	      DataStoreName	      "start_time"
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type Conversion1"
	      SID		      44
	      Position		      [155, 285, 200, 305]
	      ShowName		      off
	      AttributesFormatString  "Round = %<RndMeth>"
	      OutDataTypeMode	      "single"
	      OutDataTypeStr	      "single"
	      RndMeth		      "Simplest"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type Conversion2"
	      SID		      45
	      Position		      [155, 350, 200, 370]
	      ShowName		      off
	      AttributesFormatString  "Round = %<RndMeth>"
	      OutDataTypeMode	      "single"
	      OutDataTypeStr	      "single"
	      RndMeth		      "Simplest"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Gyro Sensor Read"
	      SID		      46
	      Ports		      [0, 1]
	      Position		      [50, 340, 105, 380]
	      AttributesFormatString  "Port = %<ip>"
	      LibraryVersion	      "1.683"
	      SourceBlock	      "ecrobot_nxt_lib/Gyro Sensor\nRead"
	      SourceType	      "Gyro Sensor Read"
	      ShowPortLabels	      "FromPortIcon"
	      SystemSampleTime	      "-1"
	      FunctionWithSeparateData off
	      RTWMemSecFuncInitTerm   "Inherit from model"
	      RTWMemSecFuncExecute    "Inherit from model"
	      RTWMemSecDataConstants  "Inherit from model"
	      RTWMemSecDataInternal   "Inherit from model"
	      RTWMemSecDataParameters "Inherit from model"
	      ip		      "S4"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Manual Switch"
	      SID		      47
	      Ports		      [2, 1]
	      Position		      [130, 118, 160, 187]
	      ShowName		      off
	      LibraryVersion	      "1.216"
	      SourceBlock	      "simulink/Signal\nRouting/Manual Switch"
	      SourceType	      "Manual Switch"
	      ShowPortLabels	      "FromPortIcon"
	      SystemSampleTime	      "-1"
	      FunctionWithSeparateData off
	      RTWMemSecFuncInitTerm   "Inherit from model"
	      RTWMemSecFuncExecute    "Inherit from model"
	      RTWMemSecDataConstants  "Inherit from model"
	      RTWMemSecDataInternal   "Inherit from model"
	      RTWMemSecDataParameters "Inherit from model"
	      sw		      "0"
	      action		      "0"
	      varsize		      off
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "System Clock Read"
	      SID		      48
	      Ports		      [0, 1]
	      Position		      [50, 210, 105, 250]
	      LibraryVersion	      "1.683"
	      SourceBlock	      "ecrobot_nxt_lib/System Clock\nRead"
	      SourceType	      "System Clock Read"
	      ShowPortLabels	      "FromPortIcon"
	      SystemSampleTime	      "-1"
	      FunctionWithSeparateData off
	      RTWMemSecFuncInitTerm   "Inherit from model"
	      RTWMemSecFuncExecute    "Inherit from model"
	      RTWMemSecDataConstants  "Inherit from model"
	      RTWMemSecDataInternal   "Inherit from model"
	      RTWMemSecDataParameters "Inherit from model"
	    }
	    Line {
	      SrcBlock		      "Gyro Sensor Read"
	      SrcPort		      1
	      DstBlock		      "Data Type Conversion2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type Conversion2"
	      SrcPort		      1
	      DstBlock		      "Data Store\nWrite1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Battery Voltage Read"
	      SrcPort		      1
	      DstBlock		      "Data Type Conversion1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type Conversion1"
	      SrcPort		      1
	      DstBlock		      "Data Store\nWrite7"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant7"
	      SrcPort		      1
	      DstBlock		      "Manual Switch"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant1"
	      SrcPort		      1
	      DstBlock		      "Manual Switch"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Manual Switch"
	      SrcPort		      1
	      DstBlock		      "Data Store\nWrite5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "System Clock Read"
	      SrcPort		      1
	      DstBlock		      "Data Store\nWrite8"
	      DstPort		      1
	    }
	    Annotation {
	      Name		      "Initialization Task"
	      Position		      [24, 22]
	      HorizontalAlignment     "left"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "Set initial values and drive mode flag."
	      Position		      [39, 42]
	      HorizontalAlignment     "left"
	      FontName		      "Arial"
	      FontSize		      12
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "Double-click the manual switch\n to change drive mode."
	      Position		      [339, 142]
	      HorizontalAlignment     "left"
	      FontName		      "Arial"
	      FontSize		      12
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "1 : autonomous drive\n0 : remote control drive"
	      Position		      [357, 173]
	      HorizontalAlignment     "left"
	      FontName		      "Arial"
	      FontSize		      11
	      FontWeight	      "bold"
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "task_ts1"
	  SID			  49
	  Ports			  [0, 0, 0, 1]
	  Position		  [190, 144, 310, 188]
	  TreatAsAtomicUnit	  on
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  System {
	    Name		    "task_ts1"
	    Location		    [1756, 57, 2222, 529]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      TriggerPort
	      Name		      "function"
	      SID		      50
	      Ports		      []
	      Position		      [30, 95, 50, 115]
	      ShowName		      off
	      TriggerType	      "function-call"
	      StatesWhenEnabling      "held"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Balance & Drive Control"
	      SID		      51
	      Ports		      [0, 0, 1]
	      Position		      [235, 193, 355, 237]
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      System {
		Name			"Balance & Drive Control"
		Location		[1498, 78, 2420, 507]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  EnablePort
		  Name			  "Enable"
		  SID			  52
		  Ports			  []
		  Position		  [55, 45, 75, 65]
		  ShowName		  off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Cal flag_log"
		  SID			  54
		  Ports			  [0, 1]
		  Position		  [740, 214, 815, 246]
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  System {
		    Name		    "Cal flag_log"
		    Location		    [175, 462, 794, 736]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    55
		    Position		    [30, 165, 65, 185]
		    ShowName		    off
		    AttributesFormatString  "DataType = %<OutDataTypeStr>"
		    VectorParams1D	    off
		    OutDataTypeMode	    "uint8"
		    OutDataTypeStr	    "uint8"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    SID			    56
		    Position		    [105, 89, 160, 111]
		    ShowName		    off
		    AttributesFormatString  "DataType = %<OutDataTypeStr>"
		    Value		    "log_count"
		    VectorParams1D	    off
		    OutDataTypeMode	    "uint8"
		    OutDataTypeStr	    "uint8"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant3"
		    SID			    57
		    Position		    [190, 45, 225, 65]
		    ShowName		    off
		    AttributesFormatString  "DataType = %<OutDataTypeStr>"
		    Value		    "0"
		    VectorParams1D	    off
		    OutDataTypeMode	    "uint8"
		    OutDataTypeStr	    "uint8"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant5"
		    SID			    58
		    Position		    [425, 70, 460, 90]
		    ShowName		    off
		    AttributesFormatString  "DataType = %<OutDataTypeStr>"
		    Value		    "0"
		    OutDataTypeMode	    "boolean"
		    OutDataTypeStr	    "boolean"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant6"
		    SID			    59
		    Position		    [425, 140, 460, 160]
		    ShowName		    off
		    AttributesFormatString  "DataType = %<OutDataTypeStr>"
		    OutDataTypeMode	    "boolean"
		    OutDataTypeStr	    "boolean"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    60
		    Ports		    [2, 1]
		    Position		    [200, 88, 220, 137]
		    ShowName		    off
		    Operator		    "=="
		    InputSameDT		    off
		    LogicOutDataTypeMode    "boolean"
		    OutDataTypeStr	    "boolean"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    61
		    Ports		    [2, 1]
		    Position		    [105, 165, 125, 185]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|++"
		    InputSameDT		    off
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    SID			    62
		    Position		    [265, 24, 285, 206]
		    ShowName		    off
		    Criteria		    "u2 ~= 0"
		    InputSameDT		    off
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch3"
		    SID			    63
		    Position		    [500, 63, 520, 167]
		    ShowName		    off
		    Criteria		    "u2 ~= 0"
		    InputSameDT		    off
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    UnitDelay
		    Name		    "Unit Delay"
		    SID			    64
		    Position		    [325, 99, 355, 131]
		    ShowName		    off
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "flag_log"
		    SID			    65
		    Position		    [565, 108, 595, 122]
		    IconDisplay		    "Port number"
		    }
		    Line {
		    SrcBlock		    "Switch3"
		    SrcPort		    1
		    DstBlock		    "flag_log"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant5"
		    SrcPort		    1
		    DstBlock		    "Switch3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant6"
		    SrcPort		    1
		    DstBlock		    "Switch3"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    DstBlock		    "Unit Delay"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Unit Delay"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    Points		    [0, 130; -275, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Switch3"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant3"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Controller"
		  SID			  66
		  Ports			  [3, 3]
		  Position		  [390, 72, 490, 388]
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  System {
		    Name		    "Controller"
		    Location		    [0, 441, 1280, 1136]
		    Open		    on
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "theta_m_l"
		    SID			    69
		    Position		    [25, 428, 55, 442]
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "theta_m_r"
		    SID			    70
		    Position		    [25, 483, 55, 497]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "gyro"
		    SID			    71
		    Position		    [25, 373, 55, 387]
		    Port		    "3"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Cal PWM"
		    SID			    72
		    Ports		    [4, 2]
		    Position		    [775, 273, 875, 507]
		    MinAlgLoopOccurrences   off
		    PropExecContextOutsideSubsystem off
		    RTWSystemCode	    "Auto"
		    FunctionWithSeparateData off
		    Opaque		    off
		    RequestExecContextInheritance off
		    MaskHideContents	    off
		    System {
		    Name		    "Cal PWM"
		    Location		    [162, 293, 938, 831]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "vol"
		    SID			    74
		    Position		    [30, 48, 60, 62]
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "theta_m_l"
		    SID			    75
		    Position		    [30, 398, 60, 412]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "theta_m_r"
		    SID			    76
		    Position		    [30, 433, 60, 447]
		    Port		    "3"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "battery"
		    SID			    78
		    Position		    [30, 93, 60, 107]
		    Port		    "4"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Cal theta_diff"
		    SID			    79
		    Ports		    [3, 1]
		    Position		    [280, 355, 380, 455]
		    MinAlgLoopOccurrences   off
		    PropExecContextOutsideSubsystem off
		    RTWSystemCode	    "Auto"
		    FunctionWithSeparateData off
		    Opaque		    off
		    RequestExecContextInheritance off
		    MaskHideContents	    off
		    System {
		    Name		    "Cal theta_diff"
		    Location		    [162, 599, 700, 878]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "flag_turn"
		    SID			    80
		    Position		    [40, 78, 70, 92]
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "theta_m_l"
		    SID			    81
		    Position		    [40, 153, 70, 167]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "theta_m_r"
		    SID			    82
		    Position		    [40, 218, 70, 232]
		    Port		    "3"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Detect Flag Falling"
		    SID			    83
		    Ports		    [1, 1]
		    Position		    [125, 69, 190, 101]
		    MinAlgLoopOccurrences   off
		    PropExecContextOutsideSubsystem off
		    RTWSystemCode	    "Auto"
		    FunctionWithSeparateData off
		    Opaque		    off
		    RequestExecContextInheritance off
		    MaskHideContents	    off
		    System {
		    Name		    "Detect Flag Falling"
		    Location		    [686, 440, 1147, 704]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "flag"
		    SID			    84
		    Position		    [35, 48, 65, 62]
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    85
		    Position		    [155, 80, 185, 100]
		    ShowName		    off
		    AttributesFormatString  "DataType = %<OutDataTypeStr>"
		    Value		    "0"
		    VectorParams1D	    off
		    OutDataTypeMode	    "boolean"
		    OutDataTypeStr	    "boolean"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    86
		    Position		    [155, 185, 185, 205]
		    ShowName		    off
		    AttributesFormatString  "DataType = %<OutDataTypeStr>"
		    VectorParams1D	    off
		    OutDataTypeMode	    "boolean"
		    OutDataTypeStr	    "boolean"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    SID			    87
		    Ports		    [2, 1]
		    Position		    [310, 70, 335, 185]
		    ShowName		    off
		    AllPortsSameDT	    off
		    OutDataTypeMode	    "boolean"
		    OutDataTypeStr	    "boolean"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    88
		    Ports		    [2, 1]
		    Position		    [230, 35, 250, 110]
		    ShowName		    off
		    Operator		    "=="
		    InputSameDT		    off
		    LogicOutDataTypeMode    "boolean"
		    OutDataTypeStr	    "boolean"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    SID			    89
		    Ports		    [2, 1]
		    Position		    [230, 140, 250, 215]
		    ShowName		    off
		    Operator		    "=="
		    InputSameDT		    off
		    LogicOutDataTypeMode    "boolean"
		    OutDataTypeStr	    "boolean"
		    }
		    Block {
		    BlockType		    UnitDelay
		    Name		    "Unit Delay"
		    SID			    90
		    Position		    [155, 144, 185, 176]
		    ShowName		    off
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "falling"
		    SID			    91
		    Position		    [380, 123, 410, 137]
		    IconDisplay		    "Port number"
		    }
		    Line {
		    SrcBlock		    "flag"
		    SrcPort		    1
		    Points		    [40, 0]
		    Branch {
		    Points		    [0, 105]
		    DstBlock		    "Unit Delay"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Unit Delay"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [25, 0; 0, 25]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    Points		    [25, 0; 0, -25]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "falling"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Set theta_offset"
		    SID			    92
		    Ports		    [1, 1, 1]
		    Position		    [225, 138, 345, 182]
		    MinAlgLoopOccurrences   off
		    PropExecContextOutsideSubsystem off
		    RTWSystemCode	    "Auto"
		    FunctionWithSeparateData off
		    Opaque		    off
		    RequestExecContextInheritance off
		    MaskHideContents	    off
		    System {
		    Name		    "Set theta_offset"
		    Location		    [392, 452, 852, 716]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "theta_diff"
		    SID			    93
		    Position		    [105, 118, 135, 132]
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    SID			    94
		    Ports		    []
		    Position		    [35, 20, 55, 40]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "theta_offset"
		    SID			    95
		    Position		    [300, 118, 330, 132]
		    IconDisplay		    "Port number"
		    }
		    Line {
		    SrcBlock		    "theta_diff"
		    SrcPort		    1
		    DstBlock		    "theta_offset"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    SID			    96
		    Ports		    [2, 1]
		    Position		    [125, 150, 145, 170]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|+-"
		    InputSameDT		    off
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum5"
		    SID			    97
		    Ports		    [2, 1]
		    Position		    [390, 150, 410, 170]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|-+"
		    InputSameDT		    off
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "theta_diff"
		    SID			    98
		    Position		    [465, 153, 495, 167]
		    IconDisplay		    "Port number"
		    }
		    Line {
		    SrcBlock		    "flag_turn"
		    SrcPort		    1
		    DstBlock		    "Detect Flag Falling"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum5"
		    SrcPort		    1
		    DstBlock		    "theta_diff"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Detect Flag Falling"
		    SrcPort		    1
		    Points		    [90, 0]
		    DstBlock		    "Set theta_offset"
		    DstPort		    enable
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "Set theta_offset"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 70; 220, 0]
		    DstBlock		    "Sum5"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "theta_m_l"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "theta_m_r"
		    SrcPort		    1
		    Points		    [60, 0]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Set theta_offset"
		    SrcPort		    1
		    DstBlock		    "Sum5"
		    DstPort		    1
		    }
		    Annotation {
		    Name		    "Detect turn -> straight run change"
		    Position		    [64, 37]
		    HorizontalAlignment	    "left"
		    FontName		    "Arial"
		    FontSize		    12
		    FontWeight		    "bold"
		    }
		    Annotation {
		    Name		    "Save the difference between\nleft and right motor revolution angle"
		    Position		    [304, 107]
		    HorizontalAlignment	    "left"
		    FontName		    "Arial"
		    FontSize		    12
		    FontWeight		    "bold"
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Cal vol_max"
		    SID			    99
		    Ports		    [1, 1]
		    Position		    [100, 83, 170, 117]
		    MinAlgLoopOccurrences   off
		    PropExecContextOutsideSubsystem off
		    RTWSystemCode	    "Auto"
		    FunctionWithSeparateData off
		    Opaque		    off
		    RequestExecContextInheritance off
		    MaskHideContents	    off
		    System {
		    Name		    "Cal vol_max"
		    Location		    [193, 405, 643, 614]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "battery"
		    SID			    100
		    Position		    [60, 68, 90, 82]
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    101
		    Position		    [150, 130, 195, 150]
		    ShowName		    off
		    AttributesFormatString  "DataType = %<OutDataTypeStr>"
		    Value		    "0.625"
		    OutDataTypeMode	    "single"
		    OutDataTypeStr	    "single"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain3"
		    SID			    102
		    Position		    [140, 59, 220, 91]
		    ShowName		    off
		    Gain		    "0.001089"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    SID			    103
		    Ports		    [2, 1]
		    Position		    [260, 65, 280, 85]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|+-"
		    InputSameDT		    off
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "vol_max"
		    SID			    104
		    Position		    [340, 68, 370, 82]
		    IconDisplay		    "Port number"
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [70, 0]
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    DstBlock		    "vol_max"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain3"
		    SrcPort		    1
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "battery"
		    SrcPort		    1
		    DstBlock		    "Gain3"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    105
		    Position		    [470, 270, 505, 290]
		    ShowName		    off
		    AttributesFormatString  "DataType = %<OutDataTypeStr>"
		    Value		    "0"
		    OutDataTypeMode	    "single"
		    OutDataTypeStr	    "single"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    SID			    381
		    Position		    [110, 310, 145, 330]
		    ShowName		    off
		    AttributesFormatString  "DataType = %<OutDataTypeStr>"
		    Value		    "0"
		    OutDataTypeMode	    "single"
		    OutDataTypeStr	    "single"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant5"
		    SID			    106
		    Position		    [110, 270, 145, 290]
		    ShowName		    off
		    AttributesFormatString  "DataType = %<OutDataTypeStr>"
		    OutDataTypeMode	    "boolean"
		    OutDataTypeStr	    "boolean"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant6"
		    SID			    107
		    Position		    [110, 350, 145, 370]
		    ShowName		    off
		    AttributesFormatString  "DataType = %<OutDataTypeStr>"
		    Value		    "0"
		    OutDataTypeMode	    "boolean"
		    OutDataTypeStr	    "boolean"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Friction Compensator"
		    SID			    109
		    Ports		    [1, 1]
		    Position		    [350, 65, 380, 95]
		    AttributesFormatString  "gain = %<gain>\\noffset = %<offset>"
		    LibraryVersion	    "1.216"
		    SourceBlock		    "simulink/Discontinuities/Coulomb &\nViscous Friction"
		    SourceType		    "Coulombic and Viscous Friction"
		    ShowPortLabels	    "FromPortIcon"
		    SystemSampleTime	    "-1"
		    FunctionWithSeparateData off
		    RTWMemSecFuncInitTerm   "Inherit from model"
		    RTWMemSecFuncExecute    "Inherit from model"
		    RTWMemSecDataConstants  "Inherit from model"
		    RTWMemSecDataInternal   "Inherit from model"
		    RTWMemSecDataParameters "Inherit from model"
		    offset		    "pwm_offset"
		    gain		    "pwm_gain"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    SID			    110
		    Position		    [270, 65, 310, 95]
		    ShowName		    off
		    Gain		    "100"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain2"
		    SID			    111
		    Position		    [420, 390, 475, 420]
		    ShowName		    off
		    Gain		    "k_sync"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    112
		    Ports		    [2, 1]
		    Position		    [210, 31, 230, 124]
		    ShowName		    off
		    Inputs		    "*/"
		    InputSameDT		    off
		    RndMeth		    "Simplest"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    SID			    113
		    Ports		    [1, 1]
		    Position		    [655, 65, 685, 95]
		    ShowName		    off
		    AttributesFormatString  "max = %<UpperLimit>\\nmin = %<LowerLimit>"
		    UpperLimit		    "100"
		    LowerLimit		    "-100"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    SID			    114
		    Ports		    [1, 1]
		    Position		    [655, 135, 685, 165]
		    ShowName		    off
		    AttributesFormatString  "max = %<UpperLimit>\\nmin = %<LowerLimit>"
		    UpperLimit		    "100"
		    LowerLimit		    "-100"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    SID			    117
		    Ports		    [2, 1]
		    Position		    [600, 140, 620, 160]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|++"
		    InputSameDT		    off
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch2"
		    SID			    118
		    Position		    [545, 261, 565, 379]
		    ShowName		    off
		    Criteria		    "u2 ~= 0"
		    InputSameDT		    off
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch3"
		    SID			    119
		    Position		    [185, 257, 205, 383]
		    ShowName		    off
		    Criteria		    "u2 ~= 0"
		    InputSameDT		    off
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "pwm_l"
		    SID			    120
		    Position		    [730, 73, 760, 87]
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "pwm_r"
		    SID			    121
		    Position		    [730, 143, 760, 157]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Friction Compensator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    DstBlock		    "pwm_r"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "pwm_l"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "vol"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Cal theta_diff"
		    SrcPort		    1
		    DstBlock		    "Gain2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch3"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "Switch2"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 50]
		    DstBlock		    "Cal theta_diff"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "Switch2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain2"
		    SrcPort		    1
		    Points		    [30, 0; 0, -45]
		    DstBlock		    "Switch2"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "battery"
		    SrcPort		    1
		    DstBlock		    "Cal vol_max"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Cal vol_max"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch2"
		    SrcPort		    1
		    Points		    [40, 0]
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Friction Compensator"
		    SrcPort		    1
		    Points		    [75, 0]
		    Branch {
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 70]
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "theta_m_l"
		    SrcPort		    1
		    DstBlock		    "Cal theta_diff"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "theta_m_r"
		    SrcPort		    1
		    DstBlock		    "Cal theta_diff"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Constant5"
		    SrcPort		    1
		    DstBlock		    "Switch3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant6"
		    SrcPort		    1
		    DstBlock		    "Switch3"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    DstBlock		    "Switch3"
		    DstPort		    2
		    }
		    Annotation {
		    Name		    "Calculate maximum of DC motor\nvoltatege from battery using an\nexperimental expression."
		    Position		    [44, 162]
		    HorizontalAlignment	    "left"
		    FontName		    "Arial"
		    FontSize		    12
		    FontWeight		    "bold"
		    }
		    Annotation {
		    Name		    "Use P control to synchronize wheels when NXTway-GS runs straightforward.\nThe characteristics of NXT "
		    "DC motor vary considerably and NXTway-GS can not\nrun straightforward even though same voltage is applied."
		    Position		    [309, 502]
		    HorizontalAlignment	    "left"
		    FontName		    "Arial"
		    FontSize		    12
		    FontWeight		    "bold"
		    }
		    Annotation {
		    Name		    "Turn NXTway-GS by applying pwm offset\nto left and right motor in the counter direction."
		    Position		    [389, 37]
		    HorizontalAlignment	    "left"
		    FontName		    "Arial"
		    FontSize		    12
		    FontWeight		    "bold"
		    }
		    Annotation {
		    Name		    "Compensate coulombic and\nviscous friction of drive system "
		    Position		    [279, 157]
		    HorizontalAlignment	    "left"
		    FontName		    "Arial"
		    FontSize		    12
		    FontWeight		    "bold"
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Cal Reference"
		    SID			    122
		    Ports		    [0, 2]
		    Position		    [140, 77, 240, 193]
		    MinAlgLoopOccurrences   off
		    PropExecContextOutsideSubsystem off
		    RTWSystemCode	    "Auto"
		    FunctionWithSeparateData off
		    Opaque		    off
		    RequestExecContextInheritance off
		    MaskHideContents	    off
		    System {
		    Name		    "Cal Reference"
		    Location		    [1307, 57, 2361, 674]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    370
		    Position		    [215, 70, 275, 90]
		    ShowName		    off
		    AttributesFormatString  "DataType = %<OutDataTypeStr>"
		    Value		    "time_start"
		    OutDataTypeMode	    "uint32"
		    OutDataTypeStr	    "uint32"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant4"
		    SID			    371
		    Position		    [175, 183, 275, 207]
		    ShowName		    off
		    AttributesFormatString  "DataType = %<OutDataTypeStr>"
		    Value		    "time_ref_end"
		    OutDataTypeMode	    "uint32"
		    OutDataTypeStr	    "uint32"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant5"
		    SID			    403
		    Position		    [650, 450, 690, 470]
		    ShowName		    off
		    AttributesFormatString  "DataType = %<OutDataTypeStr>"
		    Value		    "0"
		    VectorParams1D	    off
		    OutDataTypeMode	    "single"
		    OutDataTypeStr	    "single"
		    SampleTime		    "-1"
		    Port {
		    PortNumber		    1
		    Name		    "psi_ref"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant6"
		    SID			    128
		    Position		    [110, 495, 155, 515]
		    ShowName		    off
		    AttributesFormatString  "DataType = %<OutDataTypeStr>"
		    Value		    "gp_max"
		    VectorParams1D	    off
		    OutDataTypeMode	    "int8"
		    OutDataTypeStr	    "int8"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant7"
		    SID			    404
		    Position		    [650, 560, 690, 580]
		    ShowName		    off
		    AttributesFormatString  "DataType = %<OutDataTypeStr>"
		    Value		    "0"
		    VectorParams1D	    off
		    OutDataTypeMode	    "single"
		    OutDataTypeStr	    "single"
		    SampleTime		    "-1"
		    Port {
		    PortNumber		    1
		    Name		    "psidot_ref"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    DataStoreRead
		    Name		    "Data Store\nRead1"
		    SID			    372
		    Position		    [35, 95, 105, 115]
		    ShowName		    off
		    DataStoreName	    "start_time"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type Conversion1"
		    SID			    346
		    Position		    [120, 350, 150, 370]
		    ShowName		    off
		    AttributesFormatString  "Round = %<RndMeth>"
		    OutDataTypeMode	    "single"
		    OutDataTypeStr	    "single"
		    RndMeth		    "Simplest"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type Conversion2"
		    SID			    373
		    Position		    [495, 125, 525, 145]
		    ShowName		    off
		    AttributesFormatString  "Round = %<RndMeth>"
		    OutDataTypeMode	    "single"
		    OutDataTypeStr	    "single"
		    RndMeth		    "Simplest"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Discrete Integrator\n(forward euler)"
		    SID			    405
		    Ports		    [1, 1]
		    Position		    [650, 390, 695, 420]
		    MinAlgLoopOccurrences   off
		    PropExecContextOutsideSubsystem off
		    RTWSystemCode	    "Auto"
		    FunctionWithSeparateData off
		    Opaque		    off
		    RequestExecContextInheritance off
		    MaskHideContents	    off
		    Port {
		    PortNumber		    1
		    Name		    "theta_ref"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    System {
		    Name		    "Discrete Integrator\n(forward euler)"
		    Location		    [637, 539, 1135, 839]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [1.270000, 1.270000, 1.270000, 1.270000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in"
		    SID			    406
		    Position		    [60, 108, 90, 122]
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    SID			    407
		    Position		    [135, 101, 175, 129]
		    ShowName		    off
		    Gain		    "ts1"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    408
		    Ports		    [2, 1]
		    Position		    [220, 105, 240, 125]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|++"
		    InputSameDT		    off
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    UnitDelay
		    Name		    "Unit Delay"
		    SID			    409
		    Position		    [280, 99, 310, 131]
		    ShowName		    off
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out"
		    SID			    410
		    Position		    [410, 108, 440, 122]
		    IconDisplay		    "Port number"
		    }
		    Line {
		    SrcBlock		    "Unit Delay"
		    SrcPort		    1
		    Points		    [40, 0]
		    Branch {
		    Points		    [0, 60; -125, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "out"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Unit Delay"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Divide"
		    SID			    135
		    Ports		    [2, 1]
		    Position		    [235, 403, 255, 492]
		    ShowName		    off
		    Inputs		    "*/"
		    InputSameDT		    off
		    RndMeth		    "Simplest"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain2"
		    SID			    411
		    Position		    [295, 434, 375, 466]
		    ShowName		    off
		    Gain		    "k_thetadot"
		    SaturateOnIntegerOverflow off
		    Port {
		    PortNumber		    1
		    Name		    "thetadot_ref"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain3"
		    SID			    374
		    Position		    [560, 121, 615, 149]
		    ShowName		    off
		    Gain		    "100"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    SID			    375
		    Ports		    [2, 1]
		    Position		    [425, 117, 455, 148]
		    AllPortsSameDT	    off
		    OutDataTypeMode	    "boolean"
		    OutDataTypeStr	    "boolean"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Low Path Filter1"
		    SID			    444
		    Ports		    [1, 1]
		    Position		    [470, 435, 515, 465]
		    MinAlgLoopOccurrences   off
		    PropExecContextOutsideSubsystem off
		    RTWSystemCode	    "Auto"
		    FunctionWithSeparateData off
		    Opaque		    off
		    RequestExecContextInheritance off
		    MaskHideContents	    off
		    System {
		    Name		    "Low Path Filter1"
		    Location		    [417, 309, 923, 584]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [1.270000, 1.270000, 1.270000, 1.270000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in"
		    SID			    445
		    Position		    [25, 58, 55, 72]
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain2"
		    SID			    446
		    Position		    [230, 115, 290, 145]
		    BlockMirror		    on
		    ShowName		    off
		    Gain		    "a_r"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain3"
		    SID			    447
		    Position		    [95, 50, 155, 80]
		    ShowName		    off
		    Gain		    "1-a_r"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    448
		    Ports		    [2, 1]
		    Position		    [190, 55, 210, 75]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|++"
		    InputSameDT		    off
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    UnitDelay
		    Name		    "Unit Delay"
		    SID			    449
		    Position		    [330, 114, 360, 146]
		    BlockMirror		    on
		    ShowName		    off
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out"
		    SID			    450
		    Position		    [450, 58, 480, 72]
		    IconDisplay		    "Port number"
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [185, 0]
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "Unit Delay"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "out"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Unit Delay"
		    SrcPort		    1
		    DstBlock		    "Gain2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain2"
		    SrcPort		    1
		    Points		    [-25, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Gain3"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in"
		    SrcPort		    1
		    DstBlock		    "Gain3"
		    DstPort		    1
		    }
		    Annotation {
		    Name		    "Low Path Filter Function \n              1-a_r\n         ----------------\n         1-a_r*z^(-1)"
		    Position		    [244, 207]
		    HorizontalAlignment	    "left"
		    FontName		    "Arial"
		    FontSize		    11
		    FontWeight		    "bold"
		    }
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    SID			    419
		    Ports		    [4, 1]
		    Position		    [885, 377, 890, 598]
		    ShowName		    off
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    376
		    Ports		    [2, 1]
		    Position		    [325, 21, 345, 99]
		    ShowName		    off
		    InputSameDT		    off
		    LogicOutDataTypeMode    "boolean"
		    OutDataTypeStr	    "boolean"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    SID			    377
		    Ports		    [2, 1]
		    Position		    [325, 131, 345, 209]
		    ShowName		    off
		    Operator		    "<="
		    InputSameDT		    off
		    LogicOutDataTypeMode    "boolean"
		    OutDataTypeStr	    "boolean"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    SID			    378
		    Ports		    [2, 1]
		    Position		    [140, 30, 160, 50]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|+-"
		    InputSameDT		    off
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "System Clock Read"
		    SID			    379
		    Ports		    [0, 1]
		    Position		    [40, 20, 95, 60]
		    LibraryVersion	    "1.683"
		    SourceBlock		    "ecrobot_nxt_lib/System Clock\nRead"
		    SourceType		    "System Clock Read"
		    ShowPortLabels	    "FromPortIcon"
		    SystemSampleTime	    "-1"
		    FunctionWithSeparateData off
		    RTWMemSecFuncInitTerm   "Inherit from model"
		    RTWMemSecFuncExecute    "Inherit from model"
		    RTWMemSecDataConstants  "Inherit from model"
		    RTWMemSecDataInternal   "Inherit from model"
		    RTWMemSecDataParameters "Inherit from model"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "theta_ref1"
		    SID			    420
		    Position		    [985, 343, 1015, 357]
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "x1_ref1"
		    SID			    421
		    Position		    [985, 483, 1015, 497]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Line {
		    SrcBlock		    "Divide"
		    SrcPort		    1
		    DstBlock		    "Gain2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant6"
		    SrcPort		    1
		    Points		    [60, 0]
		    DstBlock		    "Divide"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Data Type Conversion1"
		    SrcPort		    1
		    Points		    [65, 0]
		    DstBlock		    "Divide"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "System Clock Read"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 110]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Data Store\nRead1"
		    SrcPort		    1
		    Points		    [40, 0]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant4"
		    SrcPort		    1
		    Points		    [0, -5]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [60, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    Points		    [60, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "Data Type Conversion2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type Conversion2"
		    SrcPort		    1
		    DstBlock		    "Gain3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain3"
		    SrcPort		    1
		    Points		    [0, 110; -515, 0]
		    DstBlock		    "Data Type Conversion1"
		    DstPort		    1
		    }
		    Line {
		    Name		    "thetadot_ref"
		    Labels		    [0, 0]
		    SrcBlock		    "Gain2"
		    SrcPort		    1
		    DstBlock		    "Low Path Filter1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "x1_ref1"
		    DstPort		    1
		    }
		    Line {
		    Name		    "psi_ref"
		    Labels		    [-1, 0]
		    SrcBlock		    "Constant5"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    Name		    "psidot_ref"
		    Labels		    [-1, 0]
		    SrcBlock		    "Constant7"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "Low Path Filter1"
		    SrcPort		    1
		    Points		    [55, 0]
		    Branch {
		    Points		    [0, -45]
		    DstBlock		    "Discrete Integrator\n(forward euler)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "Mux1"
		    DstPort		    3
		    }
		    }
		    Line {
		    Name		    "theta_ref"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Discrete Integrator\n(forward euler)"
		    SrcPort		    1
		    Points		    [50, 0]
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -55]
		    DstBlock		    "theta_ref1"
		    DstPort		    1
		    }
		    }
		    Annotation {
		    Name		    "Divide command values by\nmaximum input. "
		    Position		    [34, 452]
		    HorizontalAlignment	    "left"
		    FontName		    "Arial"
		    FontSize		    12
		    FontWeight		    "bold"
		    }
		    Annotation {
		    Name		    "Smooth velocity command\nusing Low Path Filter to\nsuppress rapid input change. "
		    Position		    [329, 512]
		    HorizontalAlignment	    "left"
		    FontName		    "Arial"
		    FontSize		    12
		    FontWeight		    "bold"
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Cal x1"
		    SID			    150
		    Ports		    [3, 2]
		    Position		    [140, 351, 240, 519]
		    MinAlgLoopOccurrences   off
		    PropExecContextOutsideSubsystem off
		    RTWSystemCode	    "Auto"
		    FunctionWithSeparateData off
		    Opaque		    off
		    RequestExecContextInheritance off
		    MaskHideContents	    off
		    System {
		    Name		    "Cal x1"
		    Location		    [1489, 474, 2508, 815]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "gyro"
		    SID			    151
		    Position		    [15, 163, 45, 177]
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "theta_m_l"
		    SID			    152
		    Position		    [15, 38, 45, 52]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "theta_m_r"
		    SID			    153
		    Position		    [15, 103, 45, 117]
		    Port		    "3"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Cal gyro_offset"
		    SID			    154
		    Ports		    [1, 1]
		    Position		    [110, 208, 185, 242]
		    MinAlgLoopOccurrences   off
		    PropExecContextOutsideSubsystem off
		    RTWSystemCode	    "Auto"
		    FunctionWithSeparateData off
		    Opaque		    off
		    RequestExecContextInheritance off
		    MaskHideContents	    off
		    System {
		    Name		    "Cal gyro_offset"
		    Location		    [413, 533, 1010, 805]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "gyro"
		    SID			    155
		    Position		    [45, 153, 75, 167]
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    DataStoreRead
		    Name		    "Data Store\nRead1"
		    SID			    156
		    Position		    [415, 85, 485, 105]
		    ShowName		    off
		    Priority		    "1"
		    AttributesFormatString  "Priority = %<Priority>"
		    DataStoreName	    "gyro_offset"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    DataStoreRead
		    Name		    "Data Store\nRead2"
		    SID			    157
		    Position		    [25, 85, 95, 105]
		    ShowName		    off
		    Priority		    "-1"
		    AttributesFormatString  "Priority = %<Priority>"
		    DataStoreName	    "gyro_offset"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    DataStoreWrite
		    Name		    "Data Store\nWrite1"
		    SID			    158
		    Position		    [310, 85, 380, 105]
		    ShowName		    off
		    Priority		    "0"
		    AttributesFormatString  "Priority = %<Priority>"
		    DataStoreName	    "gyro_offset"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain1"
		    SID			    159
		    Position		    [145, 145, 205, 175]
		    ShowName		    off
		    Gain		    "1-a_gd"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain4"
		    SID			    160
		    Position		    [145, 80, 205, 110]
		    ShowName		    off
		    Gain		    "a_gd"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    161
		    Ports		    [2, 1]
		    Position		    [245, 85, 265, 105]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|++"
		    InputSameDT		    off
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "gyro_offset"
		    SID			    162
		    Position		    [530, 88, 560, 102]
		    IconDisplay		    "Port number"
		    }
		    Line {
		    SrcBlock		    "Data Store\nRead1"
		    SrcPort		    1
		    DstBlock		    "gyro_offset"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Store\nRead2"
		    SrcPort		    1
		    DstBlock		    "Gain4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain1"
		    SrcPort		    1
		    Points		    [45, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Gain4"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Data Store\nWrite1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gyro"
		    SrcPort		    1
		    DstBlock		    "Gain1"
		    DstPort		    1
		    }
		    Annotation {
		    Name		    "Low Path Filter Function \n              1-a_gd\n         ----------------\n         1-a_gd*z^(-1)"
		    Position		    [289, 172]
		    HorizontalAlignment	    "left"
		    FontName		    "Arial"
		    FontSize		    11
		    FontWeight		    "bold"
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Discrete Derivative\n(backward difference)"
		    SID			    163
		    Ports		    [1, 1]
		    Position		    [835, 215, 880, 245]
		    MinAlgLoopOccurrences   off
		    PropExecContextOutsideSubsystem off
		    RTWSystemCode	    "Auto"
		    FunctionWithSeparateData off
		    Opaque		    off
		    RequestExecContextInheritance off
		    MaskHideContents	    off
		    Port {
		    PortNumber		    1
		    Name		    "thetadot"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    System {
		    Name		    "Discrete Derivative\n(backward difference)"
		    Location		    [215, 413, 713, 713]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in"
		    SID			    164
		    Position		    [65, 108, 95, 122]
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    SID			    165
		    Position		    [305, 99, 360, 131]
		    ShowName		    off
		    Gain		    "1/ts1"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    166
		    Ports		    [2, 1]
		    Position		    [240, 105, 260, 125]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|+-"
		    InputSameDT		    off
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    UnitDelay
		    Name		    "Unit Delay"
		    SID			    167
		    Position		    [185, 149, 215, 181]
		    ShowName		    off
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out"
		    SID			    168
		    Position		    [405, 108, 435, 122]
		    IconDisplay		    "Port number"
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Unit Delay"
		    SrcPort		    1
		    Points		    [30, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "in"
		    SrcPort		    1
		    Points		    [45, 0]
		    Branch {
		    Points		    [0, 50]
		    DstBlock		    "Unit Delay"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "out"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Discrete Integrator\n(forward euler)"
		    SID			    169
		    Ports		    [1, 1]
		    Position		    [400, 155, 445, 185]
		    MinAlgLoopOccurrences   off
		    PropExecContextOutsideSubsystem off
		    RTWSystemCode	    "Auto"
		    FunctionWithSeparateData off
		    Opaque		    off
		    RequestExecContextInheritance off
		    MaskHideContents	    off
		    Port {
		    PortNumber		    1
		    Name		    "psi"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    System {
		    Name		    "Discrete Integrator\n(forward euler)"
		    Location		    [214, 140, 712, 440]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in"
		    SID			    170
		    Position		    [60, 108, 90, 122]
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    SID			    171
		    Position		    [135, 101, 175, 129]
		    ShowName		    off
		    Gain		    "ts1"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    172
		    Ports		    [2, 1]
		    Position		    [220, 105, 240, 125]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|++"
		    InputSameDT		    off
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    UnitDelay
		    Name		    "Unit Delay"
		    SID			    173
		    Position		    [280, 99, 310, 131]
		    ShowName		    off
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out"
		    SID			    174
		    Position		    [410, 108, 440, 122]
		    IconDisplay		    "Port number"
		    }
		    Line {
		    SrcBlock		    "in"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Unit Delay"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Unit Delay"
		    SrcPort		    1
		    Points		    [40, 0]
		    Branch {
		    DstBlock		    "out"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 60; -125, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    SID			    175
		    Position		    [640, 95, 680, 125]
		    ShowName		    off
		    Gain		    "1/2"
		    SaturateOnIntegerOverflow off
		    Port {
		    PortNumber		    1
		    Name		    "theta"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Low Path Filter"
		    SID			    176
		    Ports		    [1, 1]
		    Position		    [750, 215, 795, 245]
		    MinAlgLoopOccurrences   off
		    PropExecContextOutsideSubsystem off
		    RTWSystemCode	    "Auto"
		    FunctionWithSeparateData off
		    Opaque		    off
		    RequestExecContextInheritance off
		    MaskHideContents	    off
		    System {
		    Name		    "Low Path Filter"
		    Location		    [417, 309, 923, 555]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "in"
		    SID			    177
		    Position		    [25, 58, 55, 72]
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain2"
		    SID			    178
		    Position		    [230, 115, 290, 145]
		    BlockMirror		    on
		    ShowName		    off
		    Gain		    "a_d"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain3"
		    SID			    179
		    Position		    [95, 50, 155, 80]
		    ShowName		    off
		    Gain		    "1-a_d"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    180
		    Ports		    [2, 1]
		    Position		    [190, 55, 210, 75]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|++"
		    InputSameDT		    off
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    UnitDelay
		    Name		    "Unit Delay"
		    SID			    181
		    Position		    [330, 114, 360, 146]
		    BlockMirror		    on
		    ShowName		    off
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out"
		    SID			    182
		    Position		    [450, 58, 480, 72]
		    IconDisplay		    "Port number"
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [185, 0]
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "Unit Delay"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "out"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Unit Delay"
		    SrcPort		    1
		    DstBlock		    "Gain2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain2"
		    SrcPort		    1
		    Points		    [-25, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Gain3"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "in"
		    SrcPort		    1
		    DstBlock		    "Gain3"
		    DstPort		    1
		    }
		    Annotation {
		    Name		    "Low Path Filter Function \n              1-a_d\n         ----------------\n         1-a_d*z^(-1)"
		    Position		    [244, 197]
		    HorizontalAlignment	    "left"
		    FontName		    "Arial"
		    FontSize		    11
		    FontWeight		    "bold"
		    }
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    SID			    183
		    Ports		    [4, 1]
		    Position		    [930, 79, 935, 321]
		    ShowName		    off
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    SID			    184
		    Ports		    [2, 1]
		    Position		    [585, 100, 605, 120]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "++|"
		    InputSameDT		    off
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    SID			    185
		    Ports		    [2, 1]
		    Position		    [205, 160, 225, 180]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|+-"
		    InputSameDT		    off
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum4"
		    SID			    186
		    Ports		    [2, 1]
		    Position		    [525, 100, 545, 120]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|++"
		    InputSameDT		    off
		    SaturateOnIntegerOverflow off
		    Port {
		    PortNumber		    1
		    Name		    "theta_r"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum6"
		    SID			    187
		    Ports		    [2, 1]
		    Position		    [475, 35, 495, 55]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|++"
		    InputSameDT		    off
		    SaturateOnIntegerOverflow off
		    Port {
		    PortNumber		    1
		    Name		    "theta_l"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "deg2rad"
		    SID			    188
		    Position		    [260, 29, 325, 61]
		    Gain		    "pi/180"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "deg2rad1"
		    SID			    189
		    Position		    [260, 94, 325, 126]
		    Gain		    "pi/180"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "deg2rad2"
		    SID			    190
		    Position		    [260, 154, 325, 186]
		    Gain		    "pi/180"
		    SaturateOnIntegerOverflow off
		    Port {
		    PortNumber		    1
		    Name		    "psidot"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "theta"
		    SID			    191
		    Position		    [975, 33, 1005, 47]
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "x1"
		    SID			    192
		    Position		    [975, 193, 1005, 207]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Line {
		    SrcBlock		    "deg2rad1"
		    SrcPort		    1
		    DstBlock		    "Sum4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "x1"
		    DstPort		    1
		    }
		    Line {
		    Name		    "psi"
		    Labels		    [1, 1]
		    SrcBlock		    "Discrete Integrator\n(forward euler)"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    DstBlock		    "Sum6"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [50, 0]
		    Branch {
		    DstBlock		    "Sum4"
		    DstPort		    2
		    }
		    Branch {
		    Labels		    [-1, 0]
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "deg2rad"
		    SrcPort		    1
		    DstBlock		    "Sum6"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "theta_m_l"
		    SrcPort		    1
		    DstBlock		    "deg2rad"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "theta_m_r"
		    SrcPort		    1
		    DstBlock		    "deg2rad1"
		    DstPort		    1
		    }
		    Line {
		    Name		    "thetadot"
		    Labels		    [0, 0]
		    SrcBlock		    "Discrete Derivative\n(backward difference)"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    3
		    }
		    Line {
		    Name		    "theta_l"
		    Labels		    [-1, 0]
		    SrcBlock		    "Sum6"
		    SrcPort		    1
		    Points		    [95, 0]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Line {
		    Name		    "theta_r"
		    Labels		    [0, 0]
		    SrcBlock		    "Sum4"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "gyro"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Cal gyro_offset"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    DstBlock		    "deg2rad2"
		    DstPort		    1
		    }
		    Line {
		    Name		    "psidot"
		    Labels		    [0, 0]
		    SrcBlock		    "deg2rad2"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "Discrete Integrator\n(forward euler)"
		    DstPort		    1
		    }
		    Branch {
		    Labels		    [-1, 0]
		    Points		    [0, 120]
		    DstBlock		    "Mux1"
		    DstPort		    4
		    }
		    }
		    Line {
		    SrcBlock		    "Low Path Filter"
		    SrcPort		    1
		    DstBlock		    "Discrete Derivative\n(backward difference)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Cal gyro_offset"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    Line {
		    Name		    "theta"
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, -70]
		    DstBlock		    "theta"
		    DstPort		    1
		    }
		    Branch {
		    Labels		    [-1, 0]
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, 120]
		    DstBlock		    "Low Path Filter"
		    DstPort		    1
		    }
		    }
		    Annotation {
		    Name		    "Smooth measured velocity value using\nLow Path Filter to reduce the noise\nbecause it makes extra con"
		    "trol input."
		    Position		    [479, 237]
		    HorizontalAlignment	    "left"
		    FontName		    "Arial"
		    FontSize		    12
		    FontWeight		    "bold"
		    }
		    Annotation {
		    Name		    "Calculate gyro offset for removing gyro drift."
		    Position		    [34, 272]
		    HorizontalAlignment	    "left"
		    FontName		    "Arial"
		    FontSize		    12
		    FontWeight		    "bold"
		    }
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    SID			    465
		    Position		    [615, 290, 650, 310]
		    ShowName		    off
		    AttributesFormatString  "DataType = %<OutDataTypeStr>"
		    Value		    "0"
		    OutDataTypeMode	    "single"
		    OutDataTypeStr	    "single"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    DataStoreRead
		    Name		    "Data Store\nRead1"
		    SID			    193
		    Position		    [660, 470, 730, 490]
		    ShowName		    off
		    DataStoreName	    "battery"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Discrete PID Controller"
		    SID			    471
		    Ports		    [1, 1]
		    Position		    [380, 377, 420, 413]
		    LibraryVersion	    "1.216"
		    DialogController	    "pidpack.PIDConfig.pidDDGCreate"
		    DialogControllerArgs    "DataTag0"
		    SourceBlock		    "simulink/Continuous/PID Controller"
		    SourceType		    "PID 1dof"
		    ShowPortLabels	    "FromPortIcon"
		    SystemSampleTime	    "-1"
		    FunctionWithSeparateData off
		    RTWMemSecFuncInitTerm   "Inherit from model"
		    RTWMemSecFuncExecute    "Inherit from model"
		    RTWMemSecDataConstants  "Inherit from model"
		    RTWMemSecDataInternal   "Inherit from model"
		    RTWMemSecDataParameters "Inherit from model"
		    Controller		    "PID"
		    TimeDomain		    "Discrete-time"
		    SampleTime		    "-1"
		    IntegratorMethod	    "Forward Euler"
		    FilterMethod	    "Forward Euler"
		    Form		    "Parallel"
		    P			    "0.5"
		    I			    "0.7"
		    D			    "0.2"
		    N			    "100"
		    InitialConditionSource  "internal"
		    InitialConditionForIntegrator "0"
		    InitialConditionForFilter "0"
		    ExternalReset	    "none"
		    IgnoreLimit		    off
		    ZeroCross		    on
		    LimitOutput		    off
		    UpperSaturationLimit    "inf"
		    LowerSaturationLimit    "-inf"
		    LinearizeAsGain	    off
		    AntiWindupMode	    "none"
		    Kb			    "1"
		    TrackingMode	    off
		    Kt			    "1"
		    RndMeth		    "Floor"
		    SaturateOnIntegerOverflow off
		    LockScale		    off
		    PParamMin		    "[]"
		    PParamMax		    "[]"
		    PParamDataTypeStr	    "Inherit: Inherit via internal rule"
		    IParamMin		    "[]"
		    IParamMax		    "[]"
		    IParamDataTypeStr	    "Inherit: Inherit via internal rule"
		    DParamMin		    "[]"
		    DParamMax		    "[]"
		    DParamDataTypeStr	    "Inherit: Inherit via internal rule"
		    NParamMin		    "[]"
		    NParamMax		    "[]"
		    NParamDataTypeStr	    "Inherit: Inherit via internal rule"
		    KbParamMin		    "[]"
		    KbParamMax		    "[]"
		    KbParamDataTypeStr	    "Inherit: Inherit via internal rule"
		    KtParamMin		    "[]"
		    KtParamMax		    "[]"
		    KtParamDataTypeStr	    "Inherit: Inherit via internal rule"
		    POutMin		    "[]"
		    POutMax		    "[]"
		    POutDataTypeStr	    "Inherit: Inherit via internal rule"
		    IOutMin		    "[]"
		    IOutMax		    "[]"
		    IOutDataTypeStr	    "Inherit: Inherit via internal rule"
		    DOutMin		    "[]"
		    DOutMax		    "[]"
		    DOutDataTypeStr	    "Inherit: Inherit via internal rule"
		    NOutMin		    "[]"
		    NOutMax		    "[]"
		    NOutDataTypeStr	    "Inherit: Inherit via internal rule"
		    KbOutMin		    "[]"
		    KbOutMax		    "[]"
		    KbOutDataTypeStr	    "Inherit: Inherit via internal rule"
		    KtOutMin		    "[]"
		    KtOutMax		    "[]"
		    KtOutDataTypeStr	    "Inherit: Inherit via internal rule"
		    IntegratorOutMin	    "[]"
		    IntegratorOutMax	    "[]"
		    IntegratorOutDataTypeStr "Inherit: Inherit via internal rule"
		    FilterOutMin	    "[]"
		    FilterOutMax	    "[]"
		    FilterOutDataTypeStr    "Inherit: Inherit via internal rule"
		    SumOutMin		    "[]"
		    SumOutMax		    "[]"
		    SumOutDataTypeStr	    "Inherit: Inherit via internal rule"
		    SumI1OutMin		    "[]"
		    SumI1OutMax		    "[]"
		    SumI1OutDataTypeStr	    "Inherit: Inherit via internal rule"
		    SumI2OutMin		    "[]"
		    SumI2OutMax		    "[]"
		    SumI2OutDataTypeStr	    "Inherit: Inherit via internal rule"
		    SumI3OutMin		    "[]"
		    SumI3OutMax		    "[]"
		    SumI3OutDataTypeStr	    "Inherit: Inherit via internal rule"
		    SumDOutMin		    "[]"
		    SumDOutMax		    "[]"
		    SumDOutDataTypeStr	    "Inherit: Inherit via internal rule"
		    SumAccumDataTypeStr	    "Inherit: Inherit via internal rule"
		    SumI1AccumDataTypeStr   "Inherit: Inherit via internal rule"
		    SumI2AccumDataTypeStr   "Inherit: Inherit via internal rule"
		    SumI3AccumDataTypeStr   "Inherit: Inherit via internal rule"
		    SumDAccumDataTypeStr    "Inherit: Inherit via internal rule"
		    SaturationOutMin	    "[]"
		    SaturationOutMax	    "[]"
		    SaturationOutDataTypeStr "Inherit: Same as input"
		    IntegratorContinuousStateAttributes	"''"
		    IntegratorStateMustResolveToSignalObject off
		    IntegratorRTWStateStorageClass "Auto"
		    FilterContinuousStateAttributes "''"
		    FilterStateMustResolveToSignalObject off
		    FilterRTWStateStorageClass "Auto"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    472
		    Ports		    [2, 1]
		    Position		    [530, 372, 560, 403]
		    InputSameDT		    off
		    OutDataTypeMode	    "Inherit via internal rule"
		    OutDataType		    "fixdt(1, 16)"
		    OutScaling		    "2^0"
		    OutDataTypeStr	    "Inherit: Inherit via internal rule"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector4"
		    SID			    204
		    Ports		    [1, 1]
		    Position		    [810, 561, 835, 599]
		    ShowName		    off
		    InputPortWidth	    "4"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "2"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator3"
		    SID			    463
		    Position		    [545, 472, 560, 488]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    "Terminator4"
		    SID			    464
		    Position		    [320, 157, 335, 173]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Scope
		    Name		    "gyro scope"
		    SID			    470
		    Ports		    [1]
		    Position		    [140, 264, 170, 296]
		    Floating		    off
		    Location		    [607, 144, 1159, 415]
		    Open		    off
		    NumInputPorts	    "1"
		    List {
		    ListType		    AxesTitles
		    axes1		    "sonar [cm]"
		    }
		    SaveName		    "ScopeData2"
		    DataFormat		    "StructureWithTime"
		    LimitDataPoints	    off
		    SampleTime		    "0"
		    }
		    Block {
		    BlockType		    Scope
		    Name		    "theta_l scope"
		    SID			    466
		    Ports		    [1]
		    Position		    [115, 599, 145, 631]
		    Floating		    off
		    Location		    [1970, 555, 2522, 826]
		    Open		    on
		    NumInputPorts	    "1"
		    List {
		    ListType		    AxesTitles
		    axes1		    "sonar [cm]"
		    }
		    DataFormat		    "StructureWithTime"
		    LimitDataPoints	    off
		    SampleTime		    "0"
		    }
		    Block {
		    BlockType		    Scope
		    Name		    "theta_r scope"
		    SID			    469
		    Ports		    [1]
		    Position		    [115, 549, 145, 581]
		    Floating		    off
		    Location		    [1956, 219, 2508, 490]
		    Open		    on
		    NumInputPorts	    "1"
		    List {
		    ListType		    AxesTitles
		    axes1		    "sonar [cm]"
		    }
		    SaveName		    "ScopeData1"
		    DataFormat		    "StructureWithTime"
		    LimitDataPoints	    off
		    SampleTime		    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "pwm_l"
		    SID			    208
		    Position		    [925, 328, 955, 342]
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "pwm_r"
		    SID			    209
		    Position		    [925, 443, 955, 457]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "psi"
		    SID			    210
		    Position		    [920, 573, 950, 587]
		    Port		    "3"
		    IconDisplay		    "Port number"
		    }
		    Line {
		    SrcBlock		    "gyro"
		    SrcPort		    1
		    Points		    [40, 0]
		    Branch {
		    DstBlock		    "Cal x1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -100]
		    DstBlock		    "gyro scope"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "theta_m_l"
		    SrcPort		    1
		    Points		    [40, 0]
		    Branch {
		    DstBlock		    "Cal x1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "theta_r scope"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Cal PWM"
		    SrcPort		    2
		    DstBlock		    "pwm_r"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Cal PWM"
		    SrcPort		    1
		    DstBlock		    "pwm_l"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Store\nRead1"
		    SrcPort		    1
		    DstBlock		    "Cal PWM"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "theta_m_r"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "Cal x1"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, 125]
		    DstBlock		    "theta_l scope"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Cal Reference"
		    SrcPort		    1
		    Points		    [270, 0]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Selector4"
		    SrcPort		    1
		    DstBlock		    "psi"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Cal x1"
		    SrcPort		    1
		    DstBlock		    "Discrete PID Controller"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    DstBlock		    "Cal PWM"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Cal Reference"
		    SrcPort		    2
		    DstBlock		    "Terminator4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Cal x1"
		    SrcPort		    2
		    Points		    [240, 0]
		    Branch {
		    Points		    [0, 100]
		    DstBlock		    "Selector4"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Terminator3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Discrete PID Controller"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [95, 0]
		    Branch {
		    Points		    [0, 30]
		    DstBlock		    "Cal PWM"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, -30]
		    DstBlock		    "Cal PWM"
		    DstPort		    2
		    }
		    }
		    Annotation {
		    Name		    "NXTway-GS Controller"
		    Position		    [24, 22]
		    HorizontalAlignment	    "left"
		    FontName		    "Arial"
		    FontSize		    16
		    FontWeight		    "bold"
		    }
		    Annotation {
		    Name		    "Calculate PWM duty."
		    Position		    [39, 42]
		    HorizontalAlignment	    "left"
		    FontName		    "Arial"
		    FontSize		    12
		    FontWeight		    "bold"
		    }
		    Annotation {
		    Name		    "system input"
		    Position		    [709, 285]
		    }
		    Annotation {
		    Name		    "system states"
		    Position		    [310, 464]
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Data Logging"
		  SID			  211
		  Ports			  [3, 0, 1]
		  Position		  [800, 270, 900, 350]
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  System {
		    Name		    "Data Logging"
		    Location		    [548, 194, 1005, 572]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "pwm_l"
		    SID			    212
		    Position		    [35, 133, 65, 147]
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "pwm_r"
		    SID			    213
		    Position		    [35, 168, 65, 182]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "psi"
		    SID			    214
		    Position		    [35, 203, 65, 217]
		    Port		    "3"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    SID			    215
		    Ports		    []
		    Position		    [30, 75, 50, 95]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type Conversion2"
		    SID			    216
		    Position		    [235, 200, 280, 220]
		    ShowName		    off
		    AttributesFormatString  "Round = %<RndMeth>"
		    OutDataTypeMode	    "int16"
		    OutDataTypeStr	    "int16"
		    RndMeth		    "Nearest"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Ground
		    Name		    "Ground1"
		    SID			    217
		    Position		    [225, 305, 245, 325]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "NXT GamePad \nADC Data Logger"
		    SID			    218
		    Ports		    [6]
		    Position		    [320, 119, 430, 336]
		    LibraryVersion	    "1.683"
		    SourceBlock		    "ecrobot_nxt_lib/NXT GamePad \nADC Data Logger"
		    SourceType		    "NXT GamePad ADC Data Logger"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Scaling"
		    SID			    219
		    Ports		    [1, 1]
		    Position		    [110, 191, 190, 229]
		    MinAlgLoopOccurrences   off
		    PropExecContextOutsideSubsystem off
		    RTWSystemCode	    "Auto"
		    FunctionWithSeparateData off
		    Opaque		    off
		    RequestExecContextInheritance off
		    MaskHideContents	    off
		    System {
		    Name		    "Scaling"
		    Location		    [554, 308, 1002, 572]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "psi_single"
		    SID			    220
		    Position		    [60, 63, 90, 77]
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Divide"
		    SID			    221
		    Ports		    [2, 1]
		    Position		    [255, 44, 275, 151]
		    ShowName		    off
		    Inputs		    "*/"
		    InputSameDT		    off
		    RndMeth		    "Simplest"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "LSB"
		    SID			    222
		    Position		    [155, 115, 195, 135]
		    AttributesFormatString  "DataType = %<OutDataTypeStr>"
		    Value		    "2^-10"
		    VectorParams1D	    off
		    OutDataTypeMode	    "single"
		    OutDataTypeStr	    "single"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "rad2deg"
		    SID			    223
		    Position		    [145, 54, 210, 86]
		    Gain		    "180/pi"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "psi_int"
		    SID			    224
		    Position		    [335, 93, 365, 107]
		    IconDisplay		    "Port number"
		    }
		    Line {
		    SrcBlock		    "LSB"
		    SrcPort		    1
		    DstBlock		    "Divide"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "rad2deg"
		    SrcPort		    1
		    DstBlock		    "Divide"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "psi_single"
		    SrcPort		    1
		    DstBlock		    "rad2deg"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Divide"
		    SrcPort		    1
		    DstBlock		    "psi_int"
		    DstPort		    1
		    }
		    Annotation {
		    Name		    "LSB means scaling value.\nYou need to multiply log data by LSB to get phisical value."
		    Position		    [64, 207]
		    HorizontalAlignment	    "left"
		    FontName		    "Arial"
		    FontSize		    12
		    FontWeight		    "bold"
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Scaling"
		    SrcPort		    1
		    DstBlock		    "Data Type Conversion2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type Conversion2"
		    SrcPort		    1
		    DstBlock		    "NXT GamePad \nADC Data Logger"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "psi"
		    SrcPort		    1
		    DstBlock		    "Scaling"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "pwm_l"
		    SrcPort		    1
		    DstBlock		    "NXT GamePad \nADC Data Logger"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "pwm_r"
		    SrcPort		    1
		    DstBlock		    "NXT GamePad \nADC Data Logger"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Ground1"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "NXT GamePad \nADC Data Logger"
		    DstPort		    6
		    }
		    Branch {
		    Points		    [0, -35]
		    Branch {
		    Points		    [0, -35]
		    DstBlock		    "NXT GamePad \nADC Data Logger"
		    DstPort		    4
		    }
		    Branch {
		    DstBlock		    "NXT GamePad \nADC Data Logger"
		    DstPort		    5
		    }
		    }
		    }
		    Annotation {
		    Name		    "Data Logging"
		    Position		    [24, 22]
		    HorizontalAlignment	    "left"
		    FontName		    "Arial"
		    FontSize		    16
		    FontWeight		    "bold"
		    }
		    Annotation {
		    Name		    "Log the body angle using NXT GamePad ADC Data Logger."
		    Position		    [39, 42]
		    HorizontalAlignment	    "left"
		    FontName		    "Arial"
		    FontSize		    12
		    FontWeight		    "bold"
		    }
		  }
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type Conversion"
		  SID			  226
		  Position		  [540, 115, 585, 135]
		  ShowName		  off
		  AttributesFormatString  "Round = %<RndMeth>"
		  OutDataTypeMode	  "int8"
		  OutDataTypeStr	  "int8"
		  RndMeth		  "Simplest"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type Conversion3"
		  SID			  229
		  Position		  [295, 115, 340, 135]
		  ShowName		  off
		  AttributesFormatString  "Round = %<RndMeth>"
		  OutDataTypeMode	  "single"
		  OutDataTypeStr	  "single"
		  RndMeth		  "Simplest"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type Conversion4"
		  SID			  230
		  Position		  [295, 220, 340, 240]
		  ShowName		  off
		  AttributesFormatString  "Round = %<RndMeth>"
		  OutDataTypeMode	  "single"
		  OutDataTypeStr	  "single"
		  RndMeth		  "Simplest"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type Conversion5"
		  SID			  231
		  Position		  [295, 325, 340, 345]
		  ShowName		  off
		  AttributesFormatString  "Round = %<RndMeth>"
		  OutDataTypeMode	  "single"
		  OutDataTypeStr	  "single"
		  RndMeth		  "Simplest"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type Conversion6"
		  SID			  232
		  Position		  [540, 220, 585, 240]
		  ShowName		  off
		  AttributesFormatString  "Round = %<RndMeth>"
		  OutDataTypeMode	  "int8"
		  OutDataTypeStr	  "int8"
		  RndMeth		  "Simplest"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Reference
		  Name			  "Gyro Sensor Read"
		  SID			  233
		  Ports			  [0, 1]
		  Position		  [40, 315, 95, 355]
		  AttributesFormatString  "Port = %<ip>"
		  LibraryVersion	  "1.683"
		  SourceBlock		  "ecrobot_nxt_lib/Gyro Sensor\nRead"
		  SourceType		  "Gyro Sensor Read"
		  ShowPortLabels	  "FromPortIcon"
		  SystemSampleTime	  "-1"
		  FunctionWithSeparateData off
		  RTWMemSecFuncInitTerm	  "Inherit from model"
		  RTWMemSecFuncExecute	  "Inherit from model"
		  RTWMemSecDataConstants  "Inherit from model"
		  RTWMemSecDataInternal	  "Inherit from model"
		  RTWMemSecDataParameters "Inherit from model"
		  ip			  "S4"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Revolution Sensor Read"
		  SID			  270
		  Ports			  [0, 1]
		  Position		  [40, 105, 95, 145]
		  AttributesFormatString  "Port = %<ip>"
		  LibraryVersion	  "1.683"
		  SourceBlock		  "ecrobot_nxt_lib/Revolution Sensor\nRead"
		  SourceType		  "Revolution Sensor Read"
		  ShowPortLabels	  "FromPortIcon"
		  SystemSampleTime	  "-1"
		  FunctionWithSeparateData off
		  RTWMemSecFuncInitTerm	  "Inherit from model"
		  RTWMemSecFuncExecute	  "Inherit from model"
		  RTWMemSecDataConstants  "Inherit from model"
		  RTWMemSecDataInternal	  "Inherit from model"
		  RTWMemSecDataParameters "Inherit from model"
		  ip			  "C"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Revolution Sensor Read1"
		  SID			  271
		  Ports			  [0, 1]
		  Position		  [40, 210, 95, 250]
		  AttributesFormatString  "Port = %<ip>"
		  LibraryVersion	  "1.683"
		  SourceBlock		  "ecrobot_nxt_lib/Revolution Sensor\nRead"
		  SourceType		  "Revolution Sensor Read"
		  ShowPortLabels	  "FromPortIcon"
		  SystemSampleTime	  "-1"
		  FunctionWithSeparateData off
		  RTWMemSecFuncInitTerm	  "Inherit from model"
		  RTWMemSecFuncExecute	  "Inherit from model"
		  RTWMemSecDataConstants  "Inherit from model"
		  RTWMemSecDataInternal	  "Inherit from model"
		  RTWMemSecDataParameters "Inherit from model"
		  ip			  "B"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Servo Motor Write"
		  SID			  272
		  Ports			  [1]
		  Position		  [660, 105, 715, 145]
		  AttributesFormatString  "Port = %<ip>"
		  LibraryVersion	  "1.683"
		  SourceBlock		  "ecrobot_nxt_lib/Servo Motor\nWrite"
		  SourceType		  "Servo Motor Write"
		  ShowPortLabels	  "FromPortIcon"
		  SystemSampleTime	  "-1"
		  FunctionWithSeparateData off
		  RTWMemSecFuncInitTerm	  "Inherit from model"
		  RTWMemSecFuncExecute	  "Inherit from model"
		  RTWMemSecDataConstants  "Inherit from model"
		  RTWMemSecDataInternal	  "Inherit from model"
		  RTWMemSecDataParameters "Inherit from model"
		  ip			  "C"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Servo Motor Write1"
		  SID			  273
		  Ports			  [1]
		  Position		  [660, 210, 715, 250]
		  AttributesFormatString  "Port = %<ip>"
		  LibraryVersion	  "1.683"
		  SourceBlock		  "ecrobot_nxt_lib/Servo Motor\nWrite"
		  SourceType		  "Servo Motor Write"
		  ShowPortLabels	  "FromPortIcon"
		  SystemSampleTime	  "-1"
		  FunctionWithSeparateData off
		  RTWMemSecFuncInitTerm	  "Inherit from model"
		  RTWMemSecFuncExecute	  "Inherit from model"
		  RTWMemSecDataConstants  "Inherit from model"
		  RTWMemSecDataInternal	  "Inherit from model"
		  RTWMemSecDataParameters "Inherit from model"
		  ip			  "B"
		}
		Line {
		  SrcBlock		  "Controller"
		  SrcPort		  1
		  DstBlock		  "Data Type Conversion"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Controller"
		  SrcPort		  2
		  DstBlock		  "Data Type Conversion6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Revolution Sensor Read1"
		  SrcPort		  1
		  DstBlock		  "Data Type Conversion4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Revolution Sensor Read"
		  SrcPort		  1
		  DstBlock		  "Data Type Conversion3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gyro Sensor Read"
		  SrcPort		  1
		  DstBlock		  "Data Type Conversion5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type Conversion3"
		  SrcPort		  1
		  DstBlock		  "Controller"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type Conversion4"
		  SrcPort		  1
		  DstBlock		  "Controller"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Data Type Conversion5"
		  SrcPort		  1
		  DstBlock		  "Controller"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Data Type Conversion"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    DstBlock		    "Servo Motor Write"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 160]
		    DstBlock		    "Data Logging"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Data Type Conversion6"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    DstBlock		    "Servo Motor Write1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 80]
		    DstBlock		    "Data Logging"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Cal flag_log"
		  SrcPort		  1
		  Points		  [30, 0]
		  DstBlock		  "Data Logging"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "Controller"
		  SrcPort		  3
		  DstBlock		  "Data Logging"
		  DstPort		  3
		}
	      }
	    }
	    Block {
	      BlockType		      DataStoreRead
	      Name		      "Data Store\nRead"
	      SID		      274
	      Position		      [65, 140, 135, 160]
	      ShowName		      off
	      DataStoreName	      "flag_start"
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Gyro Calibration"
	      SID		      275
	      Ports		      [0, 0, 1]
	      Position		      [235, 338, 355, 382]
	      TreatAsAtomicUnit	      on
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      System {
		Name			"Gyro Calibration"
		Location		[85, 117, 603, 379]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  EnablePort
		  Name			  "Enable"
		  SID			  276
		  Ports			  []
		  Position		  [35, 25, 55, 45]
		  ShowName		  off
		}
		Block {
		  BlockType		  DataStoreRead
		  Name			  "Data Store\nRead2"
		  SID			  277
		  Position		  [40, 110, 110, 130]
		  ShowName		  off
		  DataStoreName		  "gyro_offset"
		  SampleTime		  "-1"
		}
		Block {
		  BlockType		  DataStoreWrite
		  Name			  "Data Store\nWrite1"
		  SID			  278
		  Position		  [390, 110, 460, 130]
		  ShowName		  off
		  DataStoreName		  "gyro_offset"
		  SampleTime		  "-1"
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type Conversion2"
		  SID			  279
		  Position		  [140, 175, 185, 195]
		  ShowName		  off
		  AttributesFormatString  "Round = %<RndMeth>"
		  OutDataTypeMode	  "single"
		  OutDataTypeStr	  "single"
		  RndMeth		  "Simplest"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  SID			  280
		  Position		  [225, 170, 285, 200]
		  ShowName		  off
		  Gain			  "1-a_gc"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain4"
		  SID			  281
		  Position		  [225, 105, 285, 135]
		  ShowName		  off
		  Gain			  "a_gc"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Reference
		  Name			  "Gyro Sensor Read"
		  SID			  282
		  Ports			  [0, 1]
		  Position		  [45, 165, 100, 205]
		  AttributesFormatString  "Port = %<ip>"
		  LibraryVersion	  "1.683"
		  SourceBlock		  "ecrobot_nxt_lib/Gyro Sensor\nRead"
		  SourceType		  "Gyro Sensor Read"
		  ShowPortLabels	  "FromPortIcon"
		  SystemSampleTime	  "-1"
		  FunctionWithSeparateData off
		  RTWMemSecFuncInitTerm	  "Inherit from model"
		  RTWMemSecFuncExecute	  "Inherit from model"
		  RTWMemSecDataConstants  "Inherit from model"
		  RTWMemSecDataInternal	  "Inherit from model"
		  RTWMemSecDataParameters "Inherit from model"
		  ip			  "S4"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  SID			  283
		  Ports			  [2, 1]
		  Position		  [325, 110, 345, 130]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|++"
		  InputSameDT		  off
		  SaturateOnIntegerOverflow off
		}
		Line {
		  SrcBlock		  "Gyro Sensor Read"
		  SrcPort		  1
		  DstBlock		  "Data Type Conversion2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type Conversion2"
		  SrcPort		  1
		  DstBlock		  "Gain1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Data Store\nWrite1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Store\nRead2"
		  SrcPort		  1
		  DstBlock		  "Gain4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain4"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  Points		  [45, 0]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Annotation {
		  Name			  "Low Path Filter Function \n              1-a_gc\n         ----------------\n         1-a_gc*z^(-1)"
		  Position		  [364, 197]
		  HorizontalAlignment	  "left"
		  FontName		  "Arial"
		  FontSize		  11
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "Calculate gyro offset (zero point value)."
		  Position		  [244, 62]
		  HorizontalAlignment	  "left"
		  FontName		  "Arial"
		  FontSize		  12
		  FontWeight		  "bold"
		}
	      }
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "Logical\nOperator"
	      SID		      284
	      Ports		      [1, 1]
	      Position		      [220, 276, 250, 304]
	      ShowName		      off
	      Operator		      "NOT"
	      AllPortsSameDT	      off
	      OutDataTypeMode	      "boolean"
	      OutDataTypeStr	      "boolean"
	    }
	    Line {
	      SrcBlock		      "Data Store\nRead"
	      SrcPort		      1
	      Points		      [35, 0]
	      Branch {
		Points			[0, 140]
		DstBlock		"Logical\nOperator"
		DstPort			1
	      }
	      Branch {
		Points			[120, 0]
		DstBlock		"Balance & Drive Control"
		DstPort			enable
	      }
	    }
	    Line {
	      SrcBlock		      "Logical\nOperator"
	      SrcPort		      1
	      Points		      [40, 0]
	      DstBlock		      "Gyro Calibration"
	      DstPort		      enable
	    }
	    Annotation {
	      Name		      "Balance & Drive Control Task"
	      Position		      [24, 22]
	      HorizontalAlignment     "left"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "Control NXTway-GS to balance itself and drive autonomously or\nby remote control after gyro calibr"
	      "ation.     "
	      Position		      [39, 52]
	      HorizontalAlignment     "left"
	      FontName		      "Arial"
	      FontSize		      12
	      FontWeight	      "bold"
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "task_ts2"
	  SID			  285
	  Ports			  [0, 0, 0, 1]
	  Position		  [330, 144, 450, 188]
	  TreatAsAtomicUnit	  on
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  System {
	    Name		    "task_ts2"
	    Location		    [560, 441, 1068, 894]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      TriggerPort
	      Name		      "function"
	      SID		      286
	      Ports		      []
	      Position		      [30, 105, 50, 125]
	      ShowName		      off
	      TriggerType	      "function-call"
	      StatesWhenEnabling      "held"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Autonomous Drive"
	      SID		      287
	      Ports		      [0, 0, 1]
	      Position		      [250, 194, 368, 238]
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      System {
		Name			"Autonomous Drive"
		Location		[459, 273, 913, 685]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  EnablePort
		  Name			  "Enable"
		  SID			  288
		  Ports			  []
		  Position		  [35, 20, 55, 40]
		  ShowName		  off
		}
		Block {
		  BlockType		  DataStoreRead
		  Name			  "Data Store\nRead2"
		  SID			  289
		  Position		  [60, 80, 130, 100]
		  ShowName		  off
		  DataStoreName		  "flag_avoid"
		  SampleTime		  "-1"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Forward Run"
		  SID			  290
		  Ports			  [0, 1, 1]
		  Position		  [205, 283, 325, 327]
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  System {
		    Name		    "Forward Run"
		    Location		    [450, 464, 904, 805]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    SID			    291
		    Ports		    []
		    Position		    [35, 20, 55, 40]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    292
		    Position		    [100, 185, 155, 205]
		    ShowName		    off
		    AttributesFormatString  "DataType = %<OutDataTypeStr>"
		    Value		    "dst_thr"
		    OutDataTypeMode	    "int32"
		    OutDataTypeStr	    "int32"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    DataStoreWrite
		    Name		    "Data Store\nWrite1"
		    SID			    293
		    Position		    [295, 155, 365, 175]
		    ShowName		    off
		    DataStoreName	    "flag_avoid"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    SID			    294
		    Ports		    [2, 1]
		    Position		    [215, 103, 235, 227]
		    ShowName		    off
		    Operator		    "<="
		    InputSameDT		    off
		    LogicOutDataTypeMode    "boolean"
		    OutDataTypeStr	    "boolean"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Revolution Sensor Read"
		    SID			    295
		    Ports		    [0, 1]
		    Position		    [100, 245, 155, 285]
		    AttributesFormatString  "Port = %<ip>"
		    LibraryVersion	    "1.683"
		    SourceBlock		    "ecrobot_nxt_lib/Revolution Sensor\nRead"
		    SourceType		    "Revolution Sensor Read"
		    ShowPortLabels	    "FromPortIcon"
		    SystemSampleTime	    "-1"
		    FunctionWithSeparateData off
		    RTWMemSecFuncInitTerm   "Inherit from model"
		    RTWMemSecFuncExecute    "Inherit from model"
		    RTWMemSecDataConstants  "Inherit from model"
		    RTWMemSecDataInternal   "Inherit from model"
		    RTWMemSecDataParameters "Inherit from model"
		    ip			    "C"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Ultrasonic Sensor Read"
		    SID			    296
		    Ports		    [0, 1]
		    Position		    [100, 115, 155, 155]
		    AttributesFormatString  "Port = %<ip>"
		    LibraryVersion	    "1.683"
		    SourceBlock		    "ecrobot_nxt_lib/Ultrasonic Sensor\nRead"
		    SourceType		    "Ultrasonic Sensor Read"
		    ShowPortLabels	    "FromPortIcon"
		    SystemSampleTime	    "-1"
		    FunctionWithSeparateData off
		    RTWMemSecFuncInitTerm   "Inherit from model"
		    RTWMemSecFuncExecute    "Inherit from model"
		    RTWMemSecDataConstants  "Inherit from model"
		    RTWMemSecDataInternal   "Inherit from model"
		    RTWMemSecDataParameters "Inherit from model"
		    ip			    "S2"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "theta_m_l"
		    SID			    297
		    Position		    [315, 258, 345, 272]
		    IconDisplay		    "Port number"
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "Data Store\nWrite1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Ultrasonic Sensor Read"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Revolution Sensor Read"
		    SrcPort		    1
		    DstBlock		    "theta_m_l"
		    DstPort		    1
		    }
		    Annotation {
		    Name		    "Set flag_avoid and store left motor revolution angle. "
		    Position		    [79, 67]
		    HorizontalAlignment	    "left"
		    FontName		    "Arial"
		    FontSize		    12
		    FontWeight		    "bold"
		    }
		  }
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator1"
		  SID			  298
		  Ports			  [1, 1]
		  Position		  [210, 221, 240, 249]
		  ShowName		  off
		  Operator		  "NOT"
		  AllPortsSameDT	  off
		  OutDataTypeMode	  "boolean"
		  OutDataTypeStr	  "boolean"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Rotate Right"
		  SID			  299
		  Ports			  [1, 0, 1]
		  Position		  [205, 133, 325, 177]
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  System {
		    Name		    "Rotate Right"
		    Location		    [460, 343, 952, 604]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "theta_m_l"
		    SID			    300
		    Position		    [65, 193, 95, 207]
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    SID			    301
		    Ports		    []
		    Position		    [35, 20, 55, 40]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    302
		    Position		    [205, 175, 265, 195]
		    ShowName		    off
		    AttributesFormatString  "DataType = %<OutDataTypeStr>"
		    Value		    "turn_angle"
		    OutDataTypeMode	    "int32"
		    OutDataTypeStr	    "int32"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    DataStoreWrite
		    Name		    "Data Store\nWrite1"
		    SID			    303
		    Position		    [385, 150, 455, 170]
		    ShowName		    off
		    DataStoreName	    "flag_avoid"
		    SampleTime		    "-1"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    SID			    304
		    Ports		    [2, 1]
		    Position		    [315, 111, 335, 209]
		    ShowName		    off
		    Operator		    "<="
		    InputSameDT		    off
		    LogicOutDataTypeMode    "boolean"
		    OutDataTypeStr	    "boolean"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Revolution Sensor Read"
		    SID			    305
		    Ports		    [0, 1]
		    Position		    [55, 115, 110, 155]
		    AttributesFormatString  "Port = %<ip>"
		    LibraryVersion	    "1.683"
		    SourceBlock		    "ecrobot_nxt_lib/Revolution Sensor\nRead"
		    SourceType		    "Revolution Sensor Read"
		    ShowPortLabels	    "FromPortIcon"
		    SystemSampleTime	    "-1"
		    FunctionWithSeparateData off
		    RTWMemSecFuncInitTerm   "Inherit from model"
		    RTWMemSecFuncExecute    "Inherit from model"
		    RTWMemSecDataConstants  "Inherit from model"
		    RTWMemSecDataInternal   "Inherit from model"
		    RTWMemSecDataParameters "Inherit from model"
		    ip			    "C"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    SID			    306
		    Ports		    [2, 1]
		    Position		    [160, 125, 180, 145]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|+-"
		    InputSameDT		    off
		    SaturateOnIntegerOverflow off
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Data Store\nWrite1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "theta_m_l"
		    SrcPort		    1
		    Points		    [70, 0]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Revolution Sensor Read"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Annotation {
		    Name		    "NXTway-GS rotates right by turn_angle [deg]. "
		    Position		    [99, 62]
		    HorizontalAlignment	    "left"
		    FontName		    "Arial"
		    FontSize		    12
		    FontWeight		    "bold"
		    }
		  }
		}
		Line {
		  SrcBlock		  "Forward Run"
		  SrcPort		  1
		  Points		  [25, 0; 0, 55; -225, 0; 0, -205]
		  DstBlock		  "Rotate Right"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Logical\nOperator1"
		  SrcPort		  1
		  Points		  [20, 0]
		  DstBlock		  "Forward Run"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "Data Store\nRead2"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    Points		    [0, 145]
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [100, 0]
		    DstBlock		    "Rotate Right"
		    DstPort		    enable
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      DataStoreRead
	      Name		      "Data Store\nRead1"
	      SID		      307
	      Position		      [80, 140, 150, 160]
	      ShowName		      off
	      DataStoreName	      "flag_mode"
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "Logical\nOperator"
	      SID		      308
	      Ports		      [1, 1]
	      Position		      [235, 281, 265, 309]
	      ShowName		      off
	      Operator		      "NOT"
	      AllPortsSameDT	      off
	      OutDataTypeMode	      "boolean"
	      OutDataTypeStr	      "boolean"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Remote Control Drive"
	      SID		      309
	      Ports		      [0, 0, 1]
	      Position		      [250, 344, 368, 388]
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      System {
		Name			"Remote Control Drive"
		Location		[408, 543, 858, 779]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  EnablePort
		  Name			  "Enable"
		  SID			  310
		  Ports			  []
		  Position		  [35, 20, 55, 40]
		  ShowName		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  SID			  311
		  Position		  [100, 150, 155, 170]
		  ShowName		  off
		  AttributesFormatString  "DataType = %<OutDataTypeStr>"
		  Value			  "dst_thr"
		  OutDataTypeMode	  "int32"
		  OutDataTypeStr	  "int32"
		  SampleTime		  "-1"
		}
		Block {
		  BlockType		  DataStoreWrite
		  Name			  "Data Store\nWrite1"
		  SID			  312
		  Position		  [295, 120, 365, 140]
		  ShowName		  off
		  DataStoreName		  "flag_avoid"
		  SampleTime		  "-1"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator"
		  SID			  313
		  Ports			  [2, 1]
		  Position		  [210, 71, 230, 189]
		  ShowName		  off
		  Operator		  "<="
		  InputSameDT		  off
		  LogicOutDataTypeMode	  "boolean"
		  OutDataTypeStr	  "boolean"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Ultrasonic Sensor Read"
		  SID			  314
		  Ports			  [0, 1]
		  Position		  [100, 80, 155, 120]
		  AttributesFormatString  "Port = %<ip>"
		  LibraryVersion	  "1.683"
		  SourceBlock		  "ecrobot_nxt_lib/Ultrasonic Sensor\nRead"
		  SourceType		  "Ultrasonic Sensor Read"
		  ShowPortLabels	  "FromPortIcon"
		  SystemSampleTime	  "-1"
		  FunctionWithSeparateData off
		  RTWMemSecFuncInitTerm	  "Inherit from model"
		  RTWMemSecFuncExecute	  "Inherit from model"
		  RTWMemSecDataConstants  "Inherit from model"
		  RTWMemSecDataInternal	  "Inherit from model"
		  RTWMemSecDataParameters "Inherit from model"
		  ip			  "S2"
		}
		Line {
		  SrcBlock		  "Ultrasonic Sensor Read"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Relational\nOperator"
		  SrcPort		  1
		  DstBlock		  "Data Store\nWrite1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator"
		  DstPort		  2
		}
	      }
	    }
	    Line {
	      SrcBlock		      "Logical\nOperator"
	      SrcPort		      1
	      Points		      [40, 0]
	      DstBlock		      "Remote Control Drive"
	      DstPort		      enable
	    }
	    Line {
	      SrcBlock		      "Data Store\nRead1"
	      SrcPort		      1
	      Points		      [35, 0]
	      Branch {
		Points			[0, 145]
		DstBlock		"Logical\nOperator"
		DstPort			1
	      }
	      Branch {
		Points			[120, 0]
		DstBlock		"Autonomous Drive"
		DstPort			enable
	      }
	    }
	    Annotation {
	      Name		      "Get the distance between NXTway-GS and obstacle using the ultrasonic sensor.\nNXTway-GS rotates ri"
	      "ght in autonomous drive mode and runs backward in remote\ncontrol drive mode when the distance is under the thr"
	      "eshold. "
	      Position		      [39, 57]
	      HorizontalAlignment     "left"
	      FontName		      "Arial"
	      FontSize		      12
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "Obstacle Check Task"
	      Position		      [24, 22]
	      HorizontalAlignment     "left"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "task_ts3"
	  SID			  315
	  Ports			  [0, 0, 0, 1]
	  Position		  [470, 144, 590, 188]
	  TreatAsAtomicUnit	  on
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  System {
	    Name		    "task_ts3"
	    Location		    [138, 476, 840, 1015]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      TriggerPort
	      Name		      "function"
	      SID		      316
	      Ports		      []
	      Position		      [30, 90, 50, 110]
	      ShowName		      off
	      TriggerType	      "function-call"
	      StatesWhenEnabling      "held"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Battery Voltage Read"
	      SID		      317
	      Ports		      [0, 1]
	      Position		      [35, 455, 90, 495]
	      LibraryVersion	      "1.683"
	      SourceBlock	      "ecrobot_nxt_lib/Battery Voltage\nRead"
	      SourceType	      "Battery Voltage Read"
	      ShowPortLabels	      "FromPortIcon"
	      SystemSampleTime	      "-1"
	      FunctionWithSeparateData off
	      RTWMemSecFuncInitTerm   "Inherit from model"
	      RTWMemSecFuncExecute    "Inherit from model"
	      RTWMemSecDataConstants  "Inherit from model"
	      RTWMemSecDataInternal   "Inherit from model"
	      RTWMemSecDataParameters "Inherit from model"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      SID		      318
	      Position		      [210, 190, 270, 210]
	      ShowName		      off
	      AttributesFormatString  "DataType = %<OutDataTypeStr>"
	      Value		      "time_start"
	      OutDataTypeMode	      "uint32"
	      OutDataTypeStr	      "uint32"
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant3"
	      SID		      319
	      Position		      [210, 320, 270, 340]
	      ShowName		      off
	      AttributesFormatString  "DataType = %<OutDataTypeStr>"
	      Value		      "time_auto"
	      OutDataTypeMode	      "uint32"
	      OutDataTypeStr	      "uint32"
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      DataStoreRead
	      Name		      "Data Store\nRead1"
	      SID		      320
	      Position		      [30, 215, 100, 235]
	      ShowName		      off
	      DataStoreName	      "start_time"
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      DataStoreRead
	      Name		      "Data Store\nRead2"
	      SID		      321
	      Position		      [30, 395, 100, 415]
	      ShowName		      off
	      DataStoreName	      "battery"
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      DataStoreWrite
	      Name		      "Data Store\nWrite"
	      SID		      322
	      Position		      [405, 170, 475, 190]
	      ShowName		      off
	      DataStoreName	      "flag_start"
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      DataStoreWrite
	      Name		      "Data Store\nWrite1"
	      SID		      323
	      Position		      [405, 395, 475, 415]
	      ShowName		      off
	      DataStoreName	      "battery"
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      DataStoreWrite
	      Name		      "Data Store\nWrite2"
	      SID		      324
	      Position		      [405, 300, 475, 320]
	      ShowName		      off
	      DataStoreName	      "flag_auto"
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type Conversion2"
	      SID		      325
	      Position		      [135, 465, 180, 485]
	      ShowName		      off
	      AttributesFormatString  "Round = %<RndMeth>"
	      OutDataTypeMode	      "single"
	      OutDataTypeStr	      "single"
	      RndMeth		      "Simplest"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain1"
	      SID		      326
	      Position		      [220, 460, 280, 490]
	      ShowName		      off
	      Gain		      "1-a_b"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain2"
	      SID		      327
	      Position		      [220, 390, 280, 420]
	      ShowName		      off
	      Gain		      "a_b"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Make Sound"
	      SID		      328
	      Ports		      [0, 0, 1]
	      Position		      [545, 279, 663, 323]
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      System {
		Name			"Make Sound"
		Location		[14, 441, 460, 697]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  EnablePort
		  Name			  "Enable"
		  SID			  329
		  Ports			  []
		  Position		  [35, 20, 55, 40]
		  ShowName		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  SID			  330
		  Position		  [120, 90, 180, 110]
		  ShowName		  off
		  AttributesFormatString  "DataType = %<OutDataTypeStr>"
		  Value			  "sound_freq"
		  OutDataTypeMode	  "uint32"
		  OutDataTypeStr	  "uint32"
		  SampleTime		  "-1"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  SID			  331
		  Position		  [120, 140, 180, 160]
		  ShowName		  off
		  AttributesFormatString  "DataType = %<OutDataTypeStr>"
		  Value			  "sound_dur"
		  OutDataTypeMode	  "uint32"
		  OutDataTypeStr	  "uint32"
		  SampleTime		  "-1"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Sound Tone Write"
		  SID			  332
		  Ports			  [2]
		  Position		  [275, 105, 330, 145]
		  LibraryVersion	  "1.683"
		  SourceBlock		  "ecrobot_nxt_lib/Sound Tone\nWrite"
		  SourceType		  "Sound Tone Write"
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [35, 0; 0, 15]
		  DstBlock		  "Sound Tone Write"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  Points		  [35, 0; 0, -15]
		  DstBlock		  "Sound Tone Write"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator"
	      SID		      333
	      Ports		      [2, 1]
	      Position		      [320, 141, 340, 219]
	      ShowName		      off
	      InputSameDT	      off
	      LogicOutDataTypeMode    "boolean"
	      OutDataTypeStr	      "boolean"
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator1"
	      SID		      334
	      Ports		      [2, 1]
	      Position		      [320, 271, 340, 349]
	      ShowName		      off
	      InputSameDT	      off
	      LogicOutDataTypeMode    "boolean"
	      OutDataTypeStr	      "boolean"
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator2"
	      SID		      335
	      Ports		      [2, 1]
	      Position		      [505, 201, 525, 279]
	      ShowName		      off
	      Operator		      "~="
	      InputSameDT	      off
	      LogicOutDataTypeMode    "boolean"
	      OutDataTypeStr	      "boolean"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      SID		      336
	      Ports		      [2, 1]
	      Position		      [320, 395, 340, 415]
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "|++"
	      InputSameDT	      off
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      SID		      337
	      Ports		      [2, 1]
	      Position		      [135, 150, 155, 170]
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "|+-"
	      InputSameDT	      off
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "System Clock Read"
	      SID		      338
	      Ports		      [0, 1]
	      Position		      [35, 140, 90, 180]
	      LibraryVersion	      "1.683"
	      SourceBlock	      "ecrobot_nxt_lib/System Clock\nRead"
	      SourceType	      "System Clock Read"
	      ShowPortLabels	      "FromPortIcon"
	      SystemSampleTime	      "-1"
	      FunctionWithSeparateData off
	      RTWMemSecFuncInitTerm   "Inherit from model"
	      RTWMemSecFuncExecute    "Inherit from model"
	      RTWMemSecDataConstants  "Inherit from model"
	      RTWMemSecDataInternal   "Inherit from model"
	      RTWMemSecDataParameters "Inherit from model"
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      "Unit Delay"
	      SID		      339
	      Position		      [425, 244, 455, 276]
	      ShowName		      off
	      SampleTime	      "-1"
	    }
	    Line {
	      SrcBlock		      "Data Type Conversion2"
	      SrcPort		      1
	      DstBlock		      "Gain1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      DstBlock		      "Data Store\nWrite1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Store\nRead2"
	      SrcPort		      1
	      DstBlock		      "Gain2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain2"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain1"
	      SrcPort		      1
	      Points		      [45, 0]
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Battery Voltage Read"
	      SrcPort		      1
	      DstBlock		      "Data Type Conversion2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Relational\nOperator"
	      SrcPort		      1
	      Points		      [25, 0]
	      Branch {
		DstBlock		"Data Store\nWrite"
		DstPort			1
	      }
	      Branch {
		Points			[0, 40]
		Branch {
		  Points		  [0, 40]
		  DstBlock		  "Unit Delay"
		  DstPort		  1
		}
		Branch {
		  DstBlock		  "Relational\nOperator2"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "Relational\nOperator1"
	      SrcPort		      1
	      DstBlock		      "Data Store\nWrite2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant3"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "System Clock Read"
	      SrcPort		      1
	      DstBlock		      "Sum1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		DstBlock		"Relational\nOperator"
		DstPort			1
	      }
	      Branch {
		Points			[0, 130]
		DstBlock		"Relational\nOperator1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Data Store\nRead1"
	      SrcPort		      1
	      Points		      [40, 0]
	      DstBlock		      "Sum1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Unit Delay"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Relational\nOperator2"
	      SrcPort		      1
	      Points		      [75, 0]
	      DstBlock		      "Make Sound"
	      DstPort		      enable
	    }
	    Annotation {
	      Name		      "Time Check & Battery Average Task"
	      Position		      [24, 22]
	      HorizontalAlignment     "left"
	      FontName		      "Arial"
	      FontSize		      16
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "Check start time (gyro calibration time) and autonomous start time.\nSmooth measured battery value"
	      " using Low Path Filter to reduce the noise."
	      Position		      [39, 52]
	      HorizontalAlignment     "left"
	      FontName		      "Arial"
	      FontSize		      12
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "Low Path Filter Function \n              1-a_b\n         ----------------\n         1-a_b*z^(-1)"
	      Position		      [374, 472]
	      HorizontalAlignment     "left"
	      FontName		      "Arial"
	      FontSize		      11
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "Make a sound when the\ngyro calibration is finished"
	      Position		      [539, 357]
	      HorizontalAlignment     "left"
	      FontName		      "Arial"
	      FontSize		      12
	      FontWeight	      "bold"
	    }
	  }
	}
	Line {
	  SrcBlock		  "task_init_fc"
	  SrcPort		  1
	  Points		  [40, 0]
	  DstBlock		  "task_init"
	  DstPort		  trigger
	}
	Line {
	  SrcBlock		  "task_ts1_fc"
	  SrcPort		  1
	  Points		  [35, 0]
	  DstBlock		  "task_ts1"
	  DstPort		  trigger
	}
	Line {
	  SrcBlock		  "task_ts3_fc"
	  SrcPort		  1
	  Points		  [35, 0]
	  DstBlock		  "task_ts3"
	  DstPort		  trigger
	}
	Line {
	  SrcBlock		  "task_ts2_fc"
	  SrcPort		  1
	  Points		  [35, 0]
	  DstBlock		  "task_ts2"
	  DstPort		  trigger
	}
	Annotation {
	  Name			  "Application Task Subsystems"
	  Position		  [24, 22]
	  HorizontalAlignment	  "left"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	}
	Annotation {
	  Name			  "Each function-call subsystems are drived by function-call signals of the task scheduler and\ngenerated as"
	  " OSEK task functions in the generated code using Export functions feature of RTW-EC."
	  Position		  [39, 52]
	  HorizontalAlignment	  "left"
	  FontName		  "Arial"
	  FontSize		  12
	  FontWeight		  "bold"
	}
	Annotation {
	  Name			  "Initialization"
	  Position		  [74, 217]
	  HorizontalAlignment	  "left"
	  FontName		  "Arial"
	  FontSize		  12
	  FontWeight		  "bold"
	}
	Annotation {
	  Name			  "Balance & Drive Control"
	  Position		  [184, 217]
	  HorizontalAlignment	  "left"
	  FontName		  "Arial"
	  FontSize		  12
	  FontWeight		  "bold"
	}
	Annotation {
	  Name			  "Time Check &\nBattery Average"
	  Position		  [534, 222]
	  FontName		  "Arial"
	  FontSize		  12
	  FontWeight		  "bold"
	}
	Annotation {
	  Name			  "Shared Data"
	  Position		  [24, 277]
	  HorizontalAlignment	  "left"
	  FontName		  "Arial"
	  FontSize		  16
	  FontWeight		  "bold"
	}
	Annotation {
	  Name			  "Data Store Memory is used as a shared data between tasks."
	  Position		  [39, 297]
	  HorizontalAlignment	  "left"
	  FontName		  "Arial"
	  FontSize		  12
	  FontWeight		  "bold"
	}
	Annotation {
	  Name			  "drive mode flag"
	  Position		  [119, 337]
	  HorizontalAlignment	  "left"
	  FontName		  "Arial"
	  FontSize		  12
	  FontWeight		  "bold"
	}
	Annotation {
	  Name			  "1 : autonomous drive\n0 : remote control drive"
	  Position		  [132, 358]
	  HorizontalAlignment	  "left"
	  FontName		  "Arial"
	  FontSize		  11
	  FontWeight		  "bold"
	}
	Annotation {
	  Name			  "start time flag"
	  Position		  [119, 392]
	  HorizontalAlignment	  "left"
	  FontName		  "Arial"
	  FontSize		  12
	  FontWeight		  "bold"
	}
	Annotation {
	  Name			  "1 : gyro calibration is finished\n0 : gyro calibration is not finished"
	  Position		  [132, 413]
	  HorizontalAlignment	  "left"
	  FontName		  "Arial"
	  FontSize		  11
	  FontWeight		  "bold"
	}
	Annotation {
	  Name			  "autonomous time flag"
	  Position		  [119, 447]
	  HorizontalAlignment	  "left"
	  FontName		  "Arial"
	  FontSize		  12
	  FontWeight		  "bold"
	}
	Annotation {
	  Name			  "1 : autonomous drive is ready\n0 : autonomous drive is not ready"
	  Position		  [132, 468]
	  HorizontalAlignment	  "left"
	  FontName		  "Arial"
	  FontSize		  11
	  FontWeight		  "bold"
	}
	Annotation {
	  Name			  "average battery voltage"
	  Position		  [429, 337]
	  HorizontalAlignment	  "left"
	  FontName		  "Arial"
	  FontSize		  12
	  FontWeight		  "bold"
	}
	Annotation {
	  Name			  "gyro offset (zero point value)"
	  Position		  [429, 382]
	  HorizontalAlignment	  "left"
	  FontName		  "Arial"
	  FontSize		  12
	  FontWeight		  "bold"
	}
	Annotation {
	  Name			  "program start time"
	  Position		  [429, 432]
	  HorizontalAlignment	  "left"
	  FontName		  "Arial"
	  FontSize		  12
	  FontWeight		  "bold"
	}
	Annotation {
	  Name			  "Obstacle Check"
	  Position		  [349, 217]
	  HorizontalAlignment	  "left"
	  FontName		  "Arial"
	  FontSize		  12
	  FontWeight		  "bold"
	}
	Annotation {
	  Name			  "avoidance flag"
	  Position		  [119, 502]
	  HorizontalAlignment	  "left"
	  FontName		  "Arial"
	  FontSize		  12
	  FontWeight		  "bold"
	}
	Annotation {
	  Name			  "1 : NXTway-GS is avoiding obstacle\n0 : NXTway-GS is not avoiding obstacle"
	  Position		  [132, 523]
	  HorizontalAlignment	  "left"
	  FontName		  "Arial"
	  FontSize		  11
	  FontWeight		  "bold"
	}
      }
    }
    Block {
      BlockType		      Outport
      Name		      "pwm_l"
      SID		      340
      Position		      [770, 138, 800, 152]
      IconDisplay	      "Port number"
    }
    Block {
      BlockType		      Outport
      Name		      "pwm_r"
      SID		      341
      Position		      [770, 208, 800, 222]
      Port		      "2"
      IconDisplay	      "Port number"
    }
    Line {
      Labels		      [0, 0]
      SrcBlock		      "sonar"
      SrcPort		      1
      DstBlock		      "Ultrasonic Sensor Interface"
      DstPort		      1
    }
    Line {
      Labels		      [0, 0]
      SrcBlock		      "gyro"
      SrcPort		      1
      DstBlock		      "Gyro Sensor Interface"
      DstPort		      1
    }
    Line {
      Labels		      [0, 0]
      SrcBlock		      "theta_m_r"
      SrcPort		      1
      DstBlock		      "Revolution Sensor Interface1"
      DstPort		      1
    }
    Line {
      Labels		      [0, 0]
      SrcBlock		      "theta_m_l"
      SrcPort		      1
      DstBlock		      "Revolution Sensor Interface"
      DstPort		      1
    }
    Line {
      SrcBlock		      "ExpFcnCalls Scheduler"
      SrcPort		      1
      DstBlock		      "Demux"
      DstPort		      1
    }
    Line {
      SrcBlock		      "Bluetooth Tx Interface"
      SrcPort		      1
      DstBlock		      "Terminator"
      DstPort		      1
    }
    Line {
      SrcBlock		      "Servo Motor Interface"
      SrcPort		      1
      DstBlock		      "pwm_r"
      DstPort		      1
    }
    Line {
      SrcBlock		      "Servo Motor Interface1"
      SrcPort		      1
      DstBlock		      "pwm_l"
      DstPort		      1
    }
    Line {
      SrcBlock		      "bluetooth_rx"
      SrcPort		      1
      DstBlock		      "Bluetooth Rx Interface"
      DstPort		      1
    }
    Line {
      SrcBlock		      "battery"
      SrcPort		      1
      DstBlock		      "Battery Voltage Interface"
      DstPort		      1
    }
    Line {
      Name		      "task_init"
      FontSize		      10
      Labels		      [0, 0]
      SrcBlock		      "Demux"
      SrcPort		      1
      DstBlock		      "nxtway_app"
      DstPort		      1
    }
    Line {
      Name		      "task_ts1"
      FontSize		      10
      Labels		      [0, 0]
      SrcBlock		      "Demux"
      SrcPort		      2
      DstBlock		      "nxtway_app"
      DstPort		      2
    }
    Line {
      Name		      "task_ts2"
      FontSize		      10
      Labels		      [0, 0]
      SrcBlock		      "Demux"
      SrcPort		      3
      DstBlock		      "nxtway_app"
      DstPort		      3
    }
    Line {
      Name		      "task_ts3"
      FontSize		      10
      Labels		      [0, 0]
      SrcBlock		      "Demux"
      SrcPort		      4
      DstBlock		      "nxtway_app"
      DstPort		      4
    }
    Line {
      SrcBlock		      "Sound Tone Interface"
      SrcPort		      1
      DstBlock		      "Terminator1"
      DstPort		      1
    }
    Line {
      SrcBlock		      "Sound Tone Interface"
      SrcPort		      2
      DstBlock		      "Terminator2"
      DstPort		      1
    }
    Annotation {
      Name		      "Disclaimer:\nLEGO(R) is a trademark of the LEGO Group of companies which does not sponsor, authoriz"
      "e or endorse this demo.\nLEGO(R) and Mindstorms(R) are registered trademarks of The LEGO Group."
      Position		      [39, 72]
      HorizontalAlignment     "left"
      FontName		      "Arial"
    }
    Annotation {
      Name		      "NXTway-GS Controller Model based on Rate Monotonic Scheduling"
      Position		      [24, 22]
      HorizontalAlignment     "left"
      FontName		      "Arial"
      FontSize		      16
      FontWeight	      "bold"
    }
    Annotation {
      Name		      "This model consists of four parts : Device Inputs, Device Outputs, Task Scheduler, and Application "
      "Task Subsystem."
      Position		      [39, 42]
      HorizontalAlignment     "left"
      FontName		      "Arial"
      FontSize		      12
      FontWeight	      "bold"
    }
    Annotation {
      Name		      "                                                                                                   "
      "     \n \n \n \n \n \n \n \n \n  "
      Position		      [414, 472]
      BackgroundColor	      "yellow"
      FontName		      "Arial"
      FontSize		      16
    }
    Annotation {
      Name		      "Generate code from task subsystem using RTW-EC"
      Position		      [215, 422]
      HorizontalAlignment     "left"
      ForegroundColor	      "[0.000000, 0.000000, 0.500000]"
      DropShadow	      on
      ClickFcn		      "nxtbuild('nxtway_app', 'cgen')"
      FontName		      "Arial"
      FontSize		      14
      FontWeight	      "bold"
    }
    Annotation {
      Name		      "Generate code and build the generated code"
      Position		      [218, 482]
      HorizontalAlignment     "left"
      ForegroundColor	      "[0.000000, 0.000000, 0.500000]"
      DropShadow	      on
      ClickFcn		      "nxtbuild('nxtway_app', 'build')"
      FontName		      "Arial"
      FontSize		      14
      FontWeight	      "bold"
    }
    Annotation {
      Name		      "## Requires only MATLAB products ##"
      Position		      [324, 395]
      BackgroundColor	      "yellow"
      FontName		      "Arial"
      FontSize		      12
      FontWeight	      "bold"
    }
    Annotation {
      Name		      "## Requires additional 3rd party tools ##"
      Position		      [329, 455]
      BackgroundColor	      "yellow"
      FontName		      "Arial"
      FontSize		      12
      FontWeight	      "bold"
    }
    Annotation {
      Name		      "Download (SRAM)"
      Position		      [486, 517]
      HorizontalAlignment     "left"
      ForegroundColor	      "[0.000000, 0.000000, 0.500000]"
      DropShadow	      on
      ClickFcn		      "nxtbuild('nxtway_app', 'ul2ram')"
      FontName		      "Arial"
      FontSize		      14
      FontWeight	      "bold"
    }
    Annotation {
      Name		      "Download (NXT enhanced firmware)"
      Position		      [216, 517]
      HorizontalAlignment     "left"
      ForegroundColor	      "[0.000000, 0.000000, 0.500000]"
      DropShadow	      on
      ClickFcn		      "nxtbuild('nxtway_app', 'rxeflash')"
      FontName		      "Arial"
      FontSize		      14
      FontWeight	      "bold"
    }
    Annotation {
      Name		      "Click the annotations to generate/build code and download it into NXT"
      Position		      [216, 545]
      HorizontalAlignment     "left"
      BackgroundColor	      "yellow"
      FontName		      "Arial"
      FontSize		      12
      FontWeight	      "bold"
    }
  }
}
MatData {
  NumRecords		  1
  DataRecord {
    Tag			    DataTag0
    Data		    "  %)30     .    :     8    (     0         %    \"     $    !     0         .    .     8    (    !     "
    "     %    \"     $    '     0         0    !P   $]P96Y&8VX "
  }
}
